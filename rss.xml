<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
      <title>Aurora</title>
        <link>https://charmer.fun</link>
        <description>Sidere mens eadem mutato</description>
        <generator>Zola</generator>
        <language>zh</language>
        <atom:link href="https://charmer.fun/rss.xml" rel="self" type="application/rss+xml"/>
        <lastBuildDate>Mon, 07 Mar 2022 14:37:06 +0800</lastBuildDate>
        <item>
            <title>é€šè¿‡ä¾‹å­å¿«é€Ÿå…¥é—¨C++</title>
            <pubDate>Mon, 07 Mar 2022 14:37:06 +0800</pubDate>
            <link>https://charmer.fun/posts/a-quick-introduction-to-c-plus-plus/</link>
            <guid>https://charmer.fun/posts/a-quick-introduction-to-c-plus-plus/</guid>
            <description>&lt;p&gt;âš ï¸ æœ¬æ–‡ä¸ºé˜…è¯»ç¬”è®°ï¼Œ&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;http:&#x2F;&#x2F;www.tfd.chalmers.se&#x2F;%7Ehani&#x2F;kurser&#x2F;OS_CFD_2007&#x2F;c++.pdf&quot;&gt;åŸæ–‡&lt;&#x2F;a&gt;ä¸ºTom Andersonå¯¹C++çš„&lt;strong&gt;å­é›†&lt;&#x2F;strong&gt;çš„ä»‹ç»ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨å­¦ä¹ å‰éœ€è¦è§£é‡Šçš„ä¸€ç‚¹æ˜¯ï¼ŒC++çš„å†…å®¹å¯ä»¥åˆ’åˆ†ä¸ºï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;åŸºç¡€éƒ¨åˆ†ï¼ŒåŒ…å«ç±»ã€æˆå‘˜å‡½æ•°ã€æ„é€ å™¨ç­‰ç­‰&lt;&#x2F;li&gt;
&lt;li&gt;è¿›é˜¶éƒ¨åˆ†ï¼ŒåŒ…å«å•ä¾‹ç»§æ‰¿ã€æ¨¡ç‰ˆç­‰ç­‰&lt;&#x2F;li&gt;
&lt;li&gt;åƒåœ¾éƒ¨åˆ†ï¼ŒåŒ…å«å¤šé‡ç»§æ‰¿ã€å¼‚å¸¸ã€è¶…è½½ã€å¼•ç”¨ç­‰ç­‰&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;1æ˜¯æœ¬æ–‡é‡ç‚¹ï¼Œæ¯ä¸ªC++ç¨‹åºå‘˜éƒ½åº”è¯¥æŒæ¡ï¼›2åˆ™æ˜¯çœ‹åˆ°å†æŸ¥ï¼Œä½†é¿å…åœ¨è‡ªå·±çš„ç¨‹åºä¸­ä½¿ç”¨ï¼›3åˆ™æ°¸è¿œä¸è¦ç¢°ã€‚&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;h2 id=&quot;c-bao-han-c&quot;&gt;C++åŒ…å«C&lt;&#x2F;h2&gt;
&lt;p&gt;å¾ˆå¤§ç¨‹åº¦ä¸Šï¼ŒC++æ˜¯Cçš„è¶…é›†ï¼Œå¤§éƒ¨åˆ†ç¬¦åˆANSIçš„Cç¨‹åºéƒ½å¯ä»¥è¢«C++ç¼–è¯‘å™¨ç¼–è¯‘ã€‚ä¸è¿‡æœ‰ä»¥ä¸‹å‡ ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;æ‰€æœ‰å‡½æ•°éƒ½è¦å…ˆå£°æ˜åä½¿ç”¨ã€‚ï¼ˆåœ¨Cä¸­ä½¿ç”¨æœªå£°æ˜çš„å‡½æ•°é»˜è®¤è¿”å›å€¼æ˜¯intï¼‰&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;æ‰€æœ‰å‡½æ•°çš„å£°æ˜å’Œå®šä¹‰å¤´å¿…é¡»ä½¿ç”¨new-styleå£°æ˜ï¼Œå¦‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;c++&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-c++ &quot;&gt;&lt;code class=&quot;language-c++&quot; data-lang=&quot;c++&quot;&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;extern int &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8ec07c;&quot;&gt;foo&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;a&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;char&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;b&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ï¼ˆåœ¨Cä¸­å¯ä»¥&lt;code&gt;extern int foo();&lt;&#x2F;code&gt;è¡¨ç¤ºå‡½æ•°fooæœªçŸ¥çš„å‚æ•°æ•°é‡å’Œç±»å‹ï¼‰&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;éœ€è¦é“¾æ¥Cçš„å¯¹è±¡æ–‡ä»¶æ—¶ï¼Œéœ€è¦è¿™æ ·å£°æ˜Cå‡½æ•°ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;c++&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-c++ &quot;&gt;&lt;code class=&quot;language-c++&quot; data-lang=&quot;c++&quot;&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;extern &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;&amp;quot;C&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8ec07c;&quot;&gt;foo&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;a&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;char&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;b&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;C++åŒ…å«éœ€è¦æ–°å…³é”®è¯ï¼Œä¸èƒ½è¢«ç”¨ä½œæ ‡è¯†ç¬¦ï¼ˆidentifiersï¼‰ã€‚å®ƒä»¬æ˜¯ï¼š&lt;code&gt;new&lt;&#x2F;code&gt;ï¼Œ&lt;code&gt;delete&lt;&#x2F;code&gt;ï¼Œ&lt;code&gt;const&lt;&#x2F;code&gt;å’Œ&lt;code&gt;class&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h2 id=&quot;ji-chu-bu-fen&quot;&gt;åŸºç¡€éƒ¨åˆ†&lt;&#x2F;h2&gt;
&lt;p&gt;åœ¨å¼€å§‹è®²è§£ä¹‹å‰ï¼Œä¸‹é¢ä¸‰ç»„é¢å¯¹å¯¹è±¡è¯­è¨€çš„é€šç”¨æ¦‚å¿µå¿…é¡»äº†è§£ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;class&lt;&#x2F;strong&gt; and &lt;strong&gt;object&lt;&#x2F;strong&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;member functions&lt;&#x2F;strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;constructor&lt;&#x2F;strong&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;destructor&lt;&#x2F;strong&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;private&lt;&#x2F;strong&gt; vs. &lt;strong&gt;public&lt;&#x2F;strong&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;æ¥ä¸‹æ¥ç”¨ä¾‹å­æè¿°C++ä¸­çš„å„ç±»åŸºç¡€ç‰¹æ€§ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;lei&quot;&gt;ç±»&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸ºäº†ç›´è§‚å±•ç¤ºC++ä¸­çš„ç±»ä½¿ç”¨ï¼Œå°†ä»¥æ ˆç±»çš„ä»£ç å®ç°ä¸ºä¾‹å­ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨C++ä¸­ï¼Œç±»çš„å®šä¹‰å’Œå®ç°æ˜¯åˆ†ç¦»çš„ï¼ˆæœ‰ç§ç‰¹æ®Šæƒ…å†µï¼Œåæ–‡æåˆ°ï¼‰ã€‚é€šå¸¸ï¼Œåœ¨&lt;code&gt;.h&lt;&#x2F;code&gt;å¤´æ–‡ä»¶ä¸­å­˜æ”¾ç±»çš„å®šä¹‰ï¼Œåœ¨&lt;code&gt;.cc&lt;&#x2F;code&gt;æ–‡ä»¶ä¸­å­˜æ”¾ç±»çš„æˆå‘˜å‡½æ•°å®ç°ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;c++&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-c++ &quot;&gt;&lt;code class=&quot;language-c++&quot; data-lang=&quot;c++&quot;&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;&#x2F;&#x2F; stack.h
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8ec07c;&quot;&gt;Stack &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt; stack;            &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;&#x2F;&#x2F; 1.1
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;public&lt;&#x2F;span&gt;&lt;span&gt;:                    &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;&#x2F;&#x2F; 1.2
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8ec07c;&quot;&gt;Stack&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;sz&lt;&#x2F;span&gt;&lt;span&gt;);         &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;&#x2F;&#x2F; 1.3
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8ec07c;&quot;&gt;~Stack&lt;&#x2F;span&gt;&lt;span&gt;();              &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;&#x2F;&#x2F; 1.4
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;void &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8ec07c;&quot;&gt;Push&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;value&lt;&#x2F;span&gt;&lt;span&gt;);  &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;&#x2F;&#x2F; 1.5
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;bool &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8ec07c;&quot;&gt;Full&lt;&#x2F;span&gt;&lt;span&gt;() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;const &lt;&#x2F;span&gt;&lt;span&gt;{ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;(top &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;==&lt;&#x2F;span&gt;&lt;span&gt; size); };     &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;&#x2F;&#x2F; 1.6
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;private&lt;&#x2F;span&gt;&lt;span&gt;:                   &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;&#x2F;&#x2F; 7
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;private&lt;&#x2F;span&gt;&lt;span&gt;:                   &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;&#x2F;&#x2F; 7
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; top;
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; size;
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;cheng-yuan-han-shu&quot;&gt;æˆå‘˜å‡½æ•°&lt;&#x2F;h4&gt;
&lt;p&gt;åœ¨stack.hå¤´æ–‡ä»¶ä¸­&lt;em&gt;1.1&lt;&#x2F;em&gt;å°±æ˜¯&lt;code&gt;Stack&lt;&#x2F;code&gt;ç±»çš„æ™®é€šæˆå‘˜å‡½æ•°ã€‚æˆ‘ä»¬ç»™å‡ºå®ƒçš„å®ç°ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;c++&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-c++ &quot;&gt;&lt;code class=&quot;language-c++&quot; data-lang=&quot;c++&quot;&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;&#x2F;&#x2F; stack.cc
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;void
&lt;&#x2F;span&gt;&lt;span&gt;Stack::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8ec07c;&quot;&gt;Push&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;value&lt;&#x2F;span&gt;&lt;span&gt;) {         &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;&#x2F;&#x2F; 2.1
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;ASSERT(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;!&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;this-&amp;gt;Full())&lt;&#x2F;span&gt;&lt;span&gt;;       &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;&#x2F;&#x2F; 2.2
&lt;&#x2F;span&gt;&lt;span&gt;    stack[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;this&lt;&#x2F;span&gt;&lt;span&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;top&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;++&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; value;  &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;&#x2F;&#x2F; 2.3
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;é¦–å…ˆçœ‹åˆ°&lt;em&gt;2.1&lt;&#x2F;em&gt;ï¼Œ&lt;em&gt;class::function&lt;&#x2F;em&gt;çš„æ ‡è¯†ç¬¦è¡¨æ˜&lt;code&gt;Push&lt;&#x2F;code&gt;æ˜¯ç±»çš„æˆå‘˜å‡½æ•°ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨&lt;em&gt;2.2&lt;&#x2F;em&gt;ä¸­ï¼Œæˆå‘˜å‡½æ•°ä½“å†…å¯ä»¥ç›´æ¥ä½¿ç”¨å¯¹è±¡çš„æˆå‘˜ï¼Œè¿™é‡Œè®¿é—®äº†&lt;code&gt;Full()&lt;&#x2F;code&gt;å‡½æ•°ã€‚C++å¯ä»¥é€šè¿‡&lt;code&gt;-&amp;gt;&lt;&#x2F;code&gt;æ“ä½œç¬¦è®¿é—®å¯¹è±¡çš„æˆå‘˜ï¼ŒåŒæ—¶ï¼Œåœ¨æˆå‘˜å‡½æ•°å†…å¯ä»¥é€šè¿‡&lt;code&gt;this&lt;&#x2F;code&gt;å˜é‡æŒ‡ä»£å½“å‰å¯¹è±¡ï¼Œé€šå¸¸&lt;code&gt;this&lt;&#x2F;code&gt;æ˜¯éšå¼çš„ï¼Œå› æ­¤å¯ä»¥æ”¹å†™æˆ&lt;code&gt;ASSERT(!Full());&lt;&#x2F;code&gt;ï¼Œ&lt;em&gt;2.3&lt;&#x2F;em&gt;å³æ˜¯éšå¼è°ƒç”¨å¯¹è±¡æˆå‘˜ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;si-you-cheng-yuan&quot;&gt;ç§æœ‰æˆå‘˜&lt;&#x2F;h4&gt;
&lt;p&gt;é¢å¯¹å¯¹è±¡ç¼–ç¨‹è‡ªç„¶å¿…é¡»æ¶‰åŠå°è£…ã€‚C++æä¾›äº†ç§æœ‰æˆå‘˜çš„æ–¹å¼å®ç°å°è£…ã€‚é»˜è®¤æƒ…å†µä¸‹C++ç±»æˆå‘˜ä¸ºç§æœ‰æˆå‘˜ï¼Œå¦‚&lt;em&gt;1.1&lt;&#x2F;em&gt;å°±æ˜¯ç§æœ‰çš„ï¼Œæˆå‘˜å‡½æ•°å†…å¯ä»¥éšæ„ä½¿ç”¨ï¼Œä½†å¤–éƒ¨ä¸å¯è§ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¯ä»¥æ˜¾ç¤ºä½¿ç”¨&lt;code&gt;public&lt;&#x2F;code&gt;å…³é”®è¯è¡¨æ˜åç»­æˆå‘˜ä¸ºå…¬æœ‰æˆå‘˜ï¼Œå¦‚&lt;em&gt;1.2&lt;&#x2F;em&gt;æ‰€ç¤ºã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¯¹ä¹‹å¯¹åº”ï¼Œå¯ä»¥ä½¿ç”¨&lt;code&gt;private&lt;&#x2F;code&gt;å…³é”®è¯è¡¨æ˜åç»­æˆå‘˜ä¸ºç§æœ‰æˆå‘˜ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;â¤ï¸ æ‰€æœ‰åŒ…å«æ•°æ®çš„æˆå‘˜å˜é‡éƒ½åº”å½“ç§æœ‰ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;gou-zao-han-shu-he-newcao-zuo-fu&quot;&gt;æ„é€ å‡½æ•°å’Œnewæ“ä½œç¬¦&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;c++&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-c++ &quot;&gt;&lt;code class=&quot;language-c++&quot; data-lang=&quot;c++&quot;&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;&#x2F;&#x2F; stack.cc
&lt;&#x2F;span&gt;&lt;span&gt;Stack::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8ec07c;&quot;&gt;Stack&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;int &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;sz&lt;&#x2F;span&gt;&lt;span&gt;) {
&lt;&#x2F;span&gt;&lt;span&gt;    size &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; sz;
&lt;&#x2F;span&gt;&lt;span&gt;    top &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d3869b;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    stack &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;new int&lt;&#x2F;span&gt;&lt;span&gt;[size];  &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;&#x2F;&#x2F; 3.1
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;em&gt;1.3&lt;&#x2F;em&gt;å³æ˜¯Stackç±»çš„æ„é€ å‡½æ•°ï¼Œæ„é€ å‡½æ•°ç”¨äºç»™å¯¹è±¡æˆå‘˜èµ‹äºˆé»˜è®¤å€¼ï¼Œå¹¶è¿›è¡Œä¸€äº›åˆå§‹åŒ–æ“ä½œã€‚åœ¨C++ä¸­ï¼Œä½¿ç”¨&lt;code&gt;new&lt;&#x2F;code&gt;å…³é”®è¯è¿›è¡Œå¯¹è±¡åˆ›å»ºï¼Œå®ƒä¼šè‡ªåŠ¨è°ƒç”¨ç±»çš„æ„é€ å‡½æ•°ã€‚è¿™ä¸ªæµç¨‹åŒæ ·é€‚ç”¨äºè‡ªåŠ¨å˜é‡ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¯¹äºç±»æ¥è¯´æ„é€ å‡½æ•°æ˜¯å¿…é¡»çš„ï¼Œè‹¥æ²¡æœ‰æ˜¾ç¤ºå®šä¹‰ï¼Œç¼–è¯‘å™¨ä¼šç»™ä½ åŠ ä¸Šä¸€ä¸ªç©ºæ„é€ å‡½æ•°ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ‰ä¸¤ç§æ–¹å¼ä¼ é€’å‡½æ•°å‚æ•°ç»™æ„é€ å‡½æ•°ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;c++&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-c++ &quot;&gt;&lt;code class=&quot;language-c++&quot; data-lang=&quot;c++&quot;&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;void
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8ec07c;&quot;&gt;test&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;&#x2F;&#x2F; é€šè¿‡newå…³é”®è¯ï¼ˆå †ä¸Šå˜é‡ï¼‰
&lt;&#x2F;span&gt;&lt;span&gt;    Stack&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt; s1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;Stack(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d3869b;&quot;&gt;128&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;  &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;&#x2F;&#x2F; 4.1
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;&#x2F;&#x2F; è‡ªåŠ¨å˜é‡æˆ–å…¨å±€å˜é‡ï¼ˆæ ˆä¸Šå˜é‡ï¼‰
&lt;&#x2F;span&gt;&lt;span&gt;    Stack &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;s2(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d3869b;&quot;&gt;128&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;               &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;&#x2F;&#x2F; 4.2
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å‡½æ•°å†…çš„å˜é‡åœ¨å‡½æ•°è¿”å›æ—¶ä¼šè‡ªåŠ¨é‡Šæ”¾ï¼Œæ¯”å¦‚&lt;em&gt;4.2&lt;&#x2F;em&gt;å®šä¹‰çš„s2å°±ä¼šåœ¨test()å‡½æ•°è¿”å›æ—¶é‡Šæ”¾ã€‚ä½†æ˜¯é€šè¿‡newå…³é”®è¯åˆ›å»ºçš„å˜é‡ï¼ˆå¦‚&lt;em&gt;4.1&lt;&#x2F;em&gt;)å­˜å‚¨åœ¨å †ï¼ˆheapï¼‰ä¸Šï¼Œå³æ˜¯å‡½æ•°è¿”å›ä»ç„¶å­˜åœ¨ï¼Œå¿…é¡»æ‰‹åŠ¨deleteã€‚&lt;&#x2F;p&gt;
&lt;p&gt;newå…³é”®è¯ä¹Ÿå¯ä»¥ç”¨æ¥åˆ†é…æ•°ç»„ï¼Œå¦‚&lt;em&gt;3.1&lt;&#x2F;em&gt;æ‰€ç¤ºã€‚åŒæ ·éœ€è¦æ‰‹åŠ¨deleteã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;xi-gou-han-shu-he-deletecao-zuo-fu&quot;&gt;ææ„å‡½æ•°å’Œdeleteæ“ä½œç¬¦&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;c++&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-c++ &quot;&gt;&lt;code class=&quot;language-c++&quot; data-lang=&quot;c++&quot;&gt;&lt;span&gt;Stack::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8ec07c;&quot;&gt;~Stack&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;delete []&lt;&#x2F;span&gt;&lt;span&gt; stack;  &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;&#x2F;&#x2F; 5.1
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æœ‰æ„é€ å‡½æ•°å°±æœ‰ææ„å‡½æ•°ï¼Œå°±å¦‚æœ‰newå°±æœ‰deleteã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¯¹äºnewå‡ºæ¥çš„å¯¹è±¡ï¼Œä½¿ç”¨deleteæ‰‹åŠ¨é‡Šæ”¾ï¼Œå¦‚&lt;em&gt;4.1&lt;&#x2F;em&gt;çš„s1ï¼š&lt;code&gt;delete d1;&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¯¹äºnewå‡ºæ¥çš„æ•°ç»„ï¼Œä¹Ÿä½¿ç”¨deleteæ‰‹åŠ¨é‡Šæ”¾ï¼Œå¦‚&lt;em&gt;5.1&lt;&#x2F;em&gt;æ‰€ç¤ºã€‚æ³¨æ„ä¸­é—´çš„&lt;code&gt;[]&lt;&#x2F;code&gt;è¡¨æ˜é‡Šæ”¾æ•°ç»„ï¼Œè€Œä¸æ˜¯æ•°ç»„ä¸­å•ä¸ªå˜é‡ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;qi-ta-c-de-ji-chu-te-xing&quot;&gt;å…¶ä»–C++çš„åŸºç¡€ç‰¹æ€§&lt;&#x2F;h3&gt;
&lt;ol&gt;
&lt;li&gt;ç±»å¯ä»¥ä½œä¸ºæ•°æ®ç±»å‹ä½¿ç”¨ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;äº‹å®ä¸Šå¯ä»¥åœ¨ç±»æ˜¯å£°æ˜æ—¶ï¼ˆå¤´æ–‡ä»¶ï¼‰å†…åŒæ—¶å£°æ˜å®ç°å‡½æ•°ï¼Œå¦‚&lt;em&gt;1.6&lt;&#x2F;em&gt;æ‰€ç¤ºã€‚ä½†é€šå¸¸è¦æ±‚å‡½æ•°ä½“ç®€å•ã€‚è¿™ä¹ˆåšæœ‰ä¸¤ä¸ªå¥½å¤„ï¼šæ–¹ä¾¿å’Œæ€§èƒ½ã€‚åœ¨ç±»å£°æ˜æ—¶å®ç°çš„å‡½æ•°ä¼šè¢«å½“ä½œ&lt;code&gt;inline&lt;&#x2F;code&gt;å‡½æ•°ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;constå…³é”®è¯é™¤äº†åƒCä¸€æ ·å£°æ˜å˜é‡æ—¶ä½¿ç”¨ï¼Œè¡¨ç¤ºå˜é‡ä¸å¯å˜ï¼Œè¿˜å¯ä»¥ç”¨äºå‡½æ•°å£°æ˜ï¼Œè¡¨æ˜å‡½æ•°å¯¹æ•°æ®åªè¯»è€Œä¸ä¼šä¿®æ”¹ï¼Œå¦‚&lt;em&gt;1.6&lt;&#x2F;em&gt;ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;cin&lt;&#x2F;code&gt;å’Œ&lt;code&gt;cout&lt;&#x2F;code&gt;å¯¹è±¡æ˜¯C++ä¸­çš„æ ‡å‡†è¾“å…¥è¾“å‡ºã€‚ä½¿ç”¨&lt;code&gt;&amp;gt;&amp;gt;&lt;&#x2F;code&gt;å’Œ&lt;code&gt;&amp;lt;&amp;lt;&lt;&#x2F;code&gt;åˆ†åˆ«è¾“å…¥ã€è¾“å‡ºã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h2 id=&quot;jin-jie-bu-fen&quot;&gt;è¿›é˜¶éƒ¨åˆ†&lt;&#x2F;h2&gt;
&lt;p&gt;è¿™éƒ¨åˆ†å†…å®¹å®¹æ˜“è¯¯ç”¨ï¼Œä½†å¦‚æœç”¨å¾—æ°å½“å¯ä»¥å¤§å¹…ç®€åŒ–é€»è¾‘ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åé¢å†…å®¹ç”±äºåšä¸»æ²¡æœ‰ä½¿ç”¨åœºæ™¯ï¼Œæš‚æ—¶ä¸å­¦ä¹ ã€‚ğŸ˜›&lt;&#x2F;p&gt;
&lt;h3 id=&quot;dan-li-ji-cheng&quot;&gt;ï¼ˆå•ä¾‹ï¼‰ç»§æ‰¿&lt;&#x2F;h3&gt;
&lt;h3 id=&quot;mo-ban&quot;&gt;æ¨¡ç‰ˆ&lt;&#x2F;h3&gt;
&lt;h2 id=&quot;la-ji-bu-fen&quot;&gt;åƒåœ¾éƒ¨åˆ†&lt;&#x2F;h2&gt;
</description>
        </item>
        <item>
            <title>rustçš„traitå’Œtraitå¯¹è±¡</title>
            <pubDate>Mon, 07 Mar 2022 14:37:06 +0800</pubDate>
            <link>https://charmer.fun/posts/rust-traits-and-trait-objects/</link>
            <guid>https://charmer.fun/posts/rust-traits-and-trait-objects/</guid>
            <description></description>
        </item>
        <item>
            <title>HyperLogLog</title>
            <pubDate>Sun, 27 Feb 2022 17:15:52 +0800</pubDate>
            <link>https://charmer.fun/posts/hyper-log-log/</link>
            <guid>https://charmer.fun/posts/hyper-log-log/</guid>
            <description>&lt;p&gt;TODO&lt;&#x2F;p&gt;
</description>
        </item>
        <item>
            <title>2 å¯æ‰©å±•å¸ƒéš†è¿‡æ»¤å™¨</title>
            <pubDate>Tue, 15 Feb 2022 14:00:16 +0800</pubDate>
            <link>https://charmer.fun/posts/bloom-filter-2/</link>
            <guid>https://charmer.fun/posts/bloom-filter-2/</guid>
            <description>&lt;h2 id=&quot;jie-shao&quot;&gt;ä»‹ç»&lt;&#x2F;h2&gt;
&lt;p&gt;åœ¨ä¸Šç¯‡åšæ–‡&lt;a href=&quot;&#x2F;posts&#x2F;bloom-filter-1&#x2F;&quot;&gt;åŸºç¡€å¸ƒéš†è¿‡æ»¤å™¨&lt;&#x2F;a&gt;ä¸­ä»‹ç»äº†åŸºç¡€çš„bloom filterä»¥åŠç›¸å…³æ•°å­¦æ¨å¯¼ï¼Œæœ€åç»™å‡ºäº†åº”ç”¨æœ€ä½³å®è·µã€‚åœ¨æ–‡ç« æœ€åæåŠåŸºç¡€å¸ƒéš†è¿‡æ»¤å™¨æ— æ³•åœ¨ä¿è¯false positiveç‡çš„åŒæ—¶æ‰©å±•å­˜å‚¨ï¼Œå¿…é¡»åœ¨ä½¿ç”¨å‰é¢„ä¼°é›†åˆå¤§å°ï¼ˆnï¼‰ã€‚ä½†æ˜¯åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œé›†åˆå¤§å°æ— æ³•é¢„ä¼°ï¼Œè¿™å°±éœ€è¦ä½¿ç”¨æœ¬ç¯‡ä»‹ç»çš„å¸ƒéš†è¿‡æ»¤å™¨å˜ä½“ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;bu-long-guo-lu-qi-bian-ti&quot;&gt;å¸ƒéš†è¿‡æ»¤å™¨å˜ä½“&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;oliverdding&#x2F;imaw.io&#x2F;main&#x2F;variant_bloom_filter.drawio.svg&quot; alt=&quot;å¸ƒéš†è¿‡æ»¤å™¨å˜ä½“&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å¸ƒéš†è¿‡æ»¤å™¨å˜ä½“ç”±ä»¥ä¸‹ä¸¤éƒ¨åˆ†æ„æˆï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;Mä½çš„ä½å›¾ï¼š&lt;code&gt;bitmap&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;li&gt;kä¸ªç›¸äº’ç‹¬ç«‹çš„hashå‡½æ•°ï¼š&lt;code&gt;h1, h2, ..., hk&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;å…¶ä¸­ï¼ŒMä½çš„ä½å›¾è¢«kç­‰åˆ†ï¼Œæ¯ä¸ªsliceé•¿åº¦ä¸ºmï¼Œå³$m=\frac{M}{k}$ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸åŸºç¡€å¸ƒéš†è¿‡æ»¤å™¨ä¸åŒçš„æ˜¯ï¼Œæ¯ä¸ªhashå‡½æ•°ç‹¬äº«è‡ªå·±å¯¹åº”çš„sliceï¼ˆè€Œä¸æ˜¯å…¨éƒ¨ä½å›¾ï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ç§å˜ä½“æé«˜äº†å¥å£®æ€§ï¼Œå¹¶ä¸”æ”¯æŒå¹¶å‘å¤„ç†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shu-xue-tui-dao&quot;&gt;æ•°å­¦æ¨å¯¼&lt;&#x2F;h3&gt;
&lt;p&gt;å¯¹äºæŸä¸ªsliceï¼Œæ’å…¥1ä¸ªå…ƒç´ åï¼ŒæŸä¸€ä¸ªä½è¢«ç½®1ã€ç½®0çš„æ¦‚ç‡ä¸º$\frac{1}{m}$ã€$1-\frac{1}{m}$&lt;&#x2F;p&gt;
&lt;p&gt;å½“æ’å…¥nä¸ªå…ƒç´ åï¼ŒæŸä¸€ä½è¢«ç½®0ã€ç½®1çš„æ¦‚ç‡æ˜¯$(1-\frac{1}{m})^n$ã€$1-(1-\frac{1}{m})^n$&lt;&#x2F;p&gt;
&lt;p&gt;åŒæ ·ä½¿ç”¨è‡ªç„¶å¯¹æ•°eçš„è®¡ç®—å…¬å¼$$\lim_{x \to \infty}{(1-\frac{1}{x})^{-x}}=e$$&lt;&#x2F;p&gt;
&lt;p&gt;æ’å…¥nä¸ªå…ƒç´ åæŸä¸€ä½è¢«ç½®1çš„æ¦‚ç‡å¯ä»¥ç®€åŒ–ä¸º$$p\approx{}1-e^{-\frac{n}{m}}$$&lt;&#x2F;p&gt;
&lt;p&gt;äºæ˜¯å¾—åˆ°$$n\approx{}-mln(1-p)$$&lt;&#x2F;p&gt;
&lt;p&gt;åˆç”±å…¬å¼$M=km$å’Œ$P=p^k$ï¼Œæˆ‘ä»¬æ¨å¯¼å‡º$m=M\frac{ln(p)}{ln(P)}$ï¼Œå› æ­¤æœ‰$$n\approx{}M\frac{ln(p)ln(1-p)}{-ln(P)}$$&lt;&#x2F;p&gt;
&lt;p&gt;å¯¹äºç»™å®šçš„çº³ä¼ªç‡$P$å’Œä½å›¾å¤§å°Mï¼Œå½“$p=\frac{1}{2}$æ—¶nå–åˆ°æœ€å¤§å€¼ï¼Œæ­¤æ—¶èƒ½å®¹çº³æœ€å¤šçš„å…ƒç´ ã€‚$p$ä»£è¡¨ä¸€ä¸ªsliceçš„é¥±å’Œç¨‹åº¦ï¼Œæˆ‘ä»¬å¾—çŸ¥sliceåŠé¥±å’Œæ—¶æœ€å¥½ï¼Œå¯¹äº$p=\frac{1}{2}$æˆ‘ä»¬å¯ä»¥ç®€åŒ–ä¸Šé¢çš„å…¬å¼ä¸º$$n\approx{}M\frac{(ln(2)^2)}{\lvert{}ln(P)\rvert{}}$$&lt;&#x2F;p&gt;
&lt;p&gt;Pæ˜¯ç»™å®šçš„çº³ä¼ªç‡ï¼Œå› æ­¤å¯¹äºè¿™ä¸ªå¸ƒéš†è¿‡æ»¤å™¨å˜ä½“è€Œè¨€ï¼Œå¯ä»¥å®¹çº³çš„å…ƒç´ æ•°é‡næ˜¯å’Œä½å›¾å¤§å°Må‘ˆçº¿æ€§å…³ç³»ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ€åç”±$P=p^k$å’Œ$p=\frac{1}{2}$æˆ‘ä»¬æ¨å¯¼å‡º$$k=log_{2}\frac{1}{P}$$&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ying-yong&quot;&gt;åº”ç”¨&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;yi-zhi-n-he-p&quot;&gt;å·²çŸ¥$n$å’Œ$P$&lt;&#x2F;h4&gt;
&lt;ol&gt;
&lt;li&gt;æ ¹æ®å…¬å¼$k=\lceil{}log_{2}\frac{1}{P}\rceil{}$è®¡ç®—kçš„å€¼&lt;&#x2F;li&gt;
&lt;li&gt;æ ¹æ®å…¬å¼$m\approx{}\lceil{}\frac{n\lvert{}ln(P)\rvert{}}{kln^2(2)}\rceil{}$è®¡ç®—mçš„å€¼&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h2 id=&quot;ke-kuo-zhan-de-bu-long-guo-lu-qi&quot;&gt;å¯æ‰©å±•çš„å¸ƒéš†è¿‡æ»¤å™¨&lt;&#x2F;h2&gt;
&lt;p&gt;æœ¬ç¯‡ä»‹ç»çš„å¯æ‰©å±•å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆScalable Bloom Filter, SBFï¼‰åŸºäºå‰æ–‡æåŠçš„å¸ƒéš†è¿‡æ»¤å™¨å˜ä½“ï¼Œæœ‰ä¸¤ä¸ªå…³é”®éƒ¨åˆ†ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;SBFç”±ä¸€ä¸ªæˆ–å¤šä¸ªå¸ƒéš†è¿‡æ»¤å™¨ç»„æˆã€‚&lt;&#x2F;li&gt;
&lt;li&gt;åç»­çš„å¸ƒéš†è¿‡æ»¤å™¨çš„çº³ä¼ªç‡æˆç­‰æ¯”æ•°åˆ—ç¼©å°ï¼Œä»¥ä¿è¯æ•´ä½“çº³ä¼ªç‡ä¿æŒåœ¨ä¸€ä¸ªæ•°å€¼å†…ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;å¯æ‰©å±•å¸ƒéš†è¿‡æ»¤å™¨åŒæ ·å­˜åœ¨ä¸¤ä¸ªæ“ä½œï¼šæ’å…¥ã€æŸ¥è¯¢ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å½“æ’å…¥æ—¶ï¼Œä»è¿‡æ»¤å™¨åˆ—è¡¨æœ€åä¸€ä¸ªè¿‡æ»¤å™¨æ’å…¥æ–°å…ƒç´ ï¼Œå¹¶åœ¨â€œæ»¡äº†â€æ—¶æ‰©å±•è¿‡æ»¤å™¨åˆ—è¡¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½†æŸ¥è¯¢æ—¶ï¼Œä»å‰å¾€åä¾æ¬¡æŸ¥è¯¢ï¼Œæ¯ä¸ªè¿‡æ»¤å™¨éƒ½è¿”å›ä¸å­˜åœ¨æ—¶ï¼Œåˆ™è¡¨æ˜å…ƒç´ ä¸å­˜åœ¨ï¼Œå¦åˆ™è¿”å›å­˜åœ¨ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shu-xue-tui-dao-1&quot;&gt;æ•°å­¦æ¨å¯¼&lt;&#x2F;h3&gt;
&lt;p&gt;SBFåˆ›å»ºæ—¶åªæœ‰ä¸€ä¸ªå¸ƒéš†è¿‡æ»¤å™¨ï¼Œ$k_0$ä¸ªsliceï¼Œçº³ä¼ªç‡ä¸º$P_0$ã€‚å½“è¿™ä¸ªè¿‡æ»¤å™¨æ»¡äº†ï¼Œæ·»åŠ æ–°çš„è¿‡æ»¤å™¨ï¼ˆ$k_1$ä¸ªsliceï¼Œçº³ä¼ªç‡ä¸º$P_1=P_{0}r$ï¼Œä¸”$0&amp;lt;r&amp;lt;1$ï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å½“SBFå­˜åœ¨$l$ä¸ªè¿‡æ»¤å™¨åï¼Œå…¶çº³ä¼ªç‡ä¸º$$P=1-\prod_{i=0}^{l-1}(1-P_{0}r^i)$$&lt;&#x2F;p&gt;
&lt;p&gt;ç”±äºæœ‰ç¼©æ”¾å…¬å¼$$1-\prod_{i}(1-P_i)\le{}\sum_{i}P_i$$&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥å¾—åˆ°Pçš„ä¸Šé™$$P\le{}\sum_{i=0}^{l-1}P_{0}r^{i}\le{}\lim_{l \to \infty}\sum_{i=0}^{l-1}P_{0}r^i$$&lt;&#x2F;p&gt;
&lt;p&gt;å› æ­¤æœ‰$$P\le{}P_{0}\frac{1}{1-r}$$&lt;&#x2F;p&gt;
&lt;p&gt;æ¯ä¸ªè¿‡æ»¤å™¨çš„sliceé•¿åº¦ä¸º$$k_{0}=log_{2}(P_{0}^{-1})$$ï¼Œ$$k_{i}=log_{2}(P_{i}^{-1})=k_{0}+ilog_{2}(r^{-1}) \tag{1}$$&lt;&#x2F;p&gt;
&lt;p&gt;ä¸ºäº†ä¿è¯æ¯ä¸ªk_iéƒ½æ˜¯æ•´æ•°ï¼Œæˆ‘ä»¬è‡ªç„¶ä¼šæƒ³è®©$r=\frac{1}{2}$ï¼Œæ­¤æ—¶æœ‰$$k_i=k_0+i$$ï¼Œæ„å‘³ç€æ¯æ·»åŠ ä¸€ä¸ªè¿‡æ»¤å™¨éƒ½éœ€è¦æ‰©å……ä¸€ä¸ªsliceã€‚æ­¤æ—¶SBFçš„æ•´ä½“çº³ä¼ªç‡ä¸º$$P\le{}2P_0=2^{1-k_0}$$&lt;&#x2F;p&gt;
&lt;p&gt;è®ºæ–‡è¯æ˜äº†å¦‚æœ$r\lt{}0.5$ï¼Œå°½ç®¡å°é‡æ•°æ®æ—¶ä½¿ç”¨ç©ºé—´å¤§äº$r=0.5$ï¼Œéšç€ç©ºé—´å¢é•¿ç©ºé—´ä½¿ç”¨åè€Œæ›´å°ã€‚è®ºæ–‡å®éªŒè¯æ˜ï¼Œrå–0.8ï½0.9æ—¶ä¸ºæœ€ä½³ã€‚[1]&lt;&#x2F;p&gt;
&lt;p&gt;äº‹å®ä¸Šï¼Œåç»­æ·»åŠ çš„è¿‡æ»¤å™¨çš„çº³ä¼ªç‡$P_i$åªè¦ä½äºæ•´ä½“çº³ä¼ªç‡ï¼Œåˆ™å¯ä¿è¯æ•´ä½“çº³ä¼ªç‡ä¸å¢åŠ ã€‚å› æ­¤$k_i$çš„é€‰å–å¯ä»¥æ›´åŠ çµæ´»ï¼Œè€Œä¸å±€é™äº(1)çš„å…¬å¼ã€‚ç”±äº$P_i$å’Œ$k_i$æˆåæ¯”ï¼Œåªè¦$k_i$é€‰å–å¤§äº(1)çš„å€¼å³å¯ä¿è¯$P_i$å°ã€‚è¿™é‡Œä¸ºäº†ç®€åŒ–æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç­‰æ¯”æ•°åˆ—ã€‚å‡è®¾kçš„å–å€¼ä¸º$P_0, P_{0}r, P_{0}r^2,...,P_{0}r^{l-1}$ï¼Œæ­¤æ—¶è¿‡æ»¤å™¨å¯ä»¥å­˜å‚¨çš„å˜é‡æ•°$n_i$å¤§çº¦ä¸º$$n_i\approx{}m_{0}s^{i}ln(2)$$ï¼Œæœ‰$l$ä¸ªè¿‡æ»¤å™¨çš„SBFå¯ä»¥å­˜å‚¨çº¦$(ln2)m_{0}\sum_{i=0}^{l-1}s^i$ä¸ªå…ƒç´ ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è®ºæ–‡è¯æ˜å¯¹äºç¼“æ…¢å¢é•¿çš„SBFå¯ä»¥è€ƒè™‘è®¾ç½®$s=2$ï¼Œå¯¹äºå¿«é€Ÿå¢é•¿çš„è¿‡æ»¤å™¨å¯ä»¥è®¾ç½®$s=4$ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ying-yong-1&quot;&gt;åº”ç”¨&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;yi-zhi-p&quot;&gt;å·²çŸ¥$P$&lt;&#x2F;h4&gt;
&lt;ol&gt;
&lt;li&gt;è€ƒè™‘ä½¿ç”¨$n=8192$æ„é€ åˆå§‹å¸ƒéš†è¿‡æ»¤å™¨å˜ä½“ï¼Œè®¡ç®—è·å¾—$k_0$å’Œm&lt;&#x2F;li&gt;
&lt;li&gt;å¯¹äºæ¯ä¸ªåç»­çš„$P_i=0.9P_{i-1}$&lt;&#x2F;li&gt;
&lt;li&gt;å¯¹äºæ¯ä¸ªåç»­çš„è¿‡æ»¤å™¨ï¼Œ$k_i=2k_{i-1}$æˆ–$k_i=4k_{i-1}$&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h2 id=&quot;can-kao&quot;&gt;å‚è€ƒ&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;[1]: Scalable Bloom Filters&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
        </item>
        <item>
            <title>ä½¿ç”¨é™æ€ç½‘ç«™å†™åšå®¢çš„æœ€ä½³å®è·µ</title>
            <pubDate>Fri, 11 Feb 2022 20:37:06 +0800</pubDate>
            <link>https://charmer.fun/posts/best-practice-for-writing-blog-with-ssg/</link>
            <guid>https://charmer.fun/posts/best-practice-for-writing-blog-with-ssg/</guid>
            <description>&lt;p&gt;æˆ‘å°è¯•è¿‡hexoï¼Œç”¨è¿‡hugoï¼Œæœ€ç»ˆè½¬å‘zolaè¿™ä¸ªå®Œå…¨è¿˜æ²¡å‘å±•èµ·æ¥çš„SSGã€‚è¿™ç¯‡æ–‡ç« è®°å½•ä¸‹ä½¿ç”¨SSGå†™åšå®¢çš„æœ€ä½³å®è·µã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;zhu-ti-xuan-ze&quot;&gt;ä¸»é¢˜é€‰æ‹©&lt;&#x2F;h2&gt;
&lt;p&gt;ä¸»é¢˜é€‰æ‹©é©±ä½¿æˆ‘ä»hugoè¿ç§»åˆ°zolaã€‚æˆ‘å¯¹ä¸»é¢˜çš„è¦æ±‚éå¸¸è‹›åˆ»ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;ç§¯æç»´æŠ¤ä¸­ï¼Œå¹¶ä¸”æœ‰åºå¤§çš„ç”¨æˆ·ç¾¤ä½“ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;æ ·å¼ç®€æ´ç¾è§‚ï¼Œæˆ‘å€¾å‘äºfluent designã€‚&lt;&#x2F;li&gt;
&lt;li&gt;åŠŸèƒ½ç®€å•ä½†ä¸å•è°ƒ
&lt;ol&gt;
&lt;li&gt;æ”¯æŒlatexæ¸²æŸ“&lt;&#x2F;li&gt;
&lt;li&gt;æ”¯æŒtoc&lt;&#x2F;li&gt;
&lt;li&gt;ï¼ˆå¯é€‰ï¼‰æ”¯æŒè¯„è®º&lt;&#x2F;li&gt;
&lt;li&gt;ï¼ˆå¯é€‰ï¼‰æ”¯æŒadmonition&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;æˆ‘æå…¶è®¨åŒå¤æ‚åºå¤§çš„å¯é€‰é¡¹ï¼ˆæ²¡é”™ï¼Œæˆ‘ä¹Ÿè®¨åŒkdeï¼‰ï¼Œæ‰€ä»¥é…ç½®æ–‡ä»¶è¶Šç²¾ç®€è¶Šå¥½ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;åœ¨hugoä¸­ï¼Œæˆ‘ä»Loveitï¼ˆä¼¼ä¹åœæ­¢ç»´æŠ¤äº†ï¼‰æ¬è¿åˆ°papermodï¼ˆéå¸¸æƒŠè‰³ï¼Œä½†æ˜¯å…¬å¼æ¸²æŸ“éœ€è¦htmlä»£ç é…ç½®ï¼Œå¹¶ä¸”æ¸²æŸ“å¼‚å¸¸ï¼‰ï¼Œå†å°è¯•äº†stackï¼ˆå¤ªèŠ±å“¨ï¼‰ã€terminalï¼ˆé£æ ¼ä¸å–œï¼‰ã€MemEï¼ˆé…ç½®é¡¹è¿‡äºåºå¤§ï¼‰ï¼Œæˆ‘é€ƒç¦»åˆ°äº†zolaã€‚å†ä¸€ç•ªæŠ‰æ‹©åå‘ç°äº†ç°åœ¨æ­£åœ¨ä½¿ç”¨çš„ä¸»é¢˜&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;RatanShreshtha&#x2F;DeepThought&quot;&gt;DeepThought&lt;&#x2F;a&gt;ï¼Œå®ƒæ˜¯zolaä¸­å‡ ä¹æœ€æµè¡Œçš„ä¸»é¢˜ï¼Œç•Œé¢ç®€æ´ä¼˜ç¾ï¼Œé…ç½®ç²¾ç®€ï¼ŒåŸç”Ÿæ”¯æŒæ¸²æŸ“ï¼Œtocå¯é€‰ï¼Œæ”¯æŒè¯„è®ºï¼Œå”¯ä¸€çš„ç¼ºç‚¹å°±æ˜¯ç¼ºå°‘ä¸­æ–‡æœç´¢çš„æ”¯æŒã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;bo-ke-yuan-wen-ben-cun-chu&quot;&gt;åšå®¢æºæ–‡æœ¬å­˜å‚¨&lt;&#x2F;h2&gt;
&lt;p&gt;é¦–å…ˆï¼Œåšå®¢çš„æºç è‚¯å®šæ˜¯è¦çº³å…¥ç‰ˆæœ¬ç®¡ç†çš„ï¼Œç†æ‰€å½“ç„¶éœ€è¦ç»™å®ƒä»¬åˆ›å»ºä¸€ä¸ªä»“åº“ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™é‡Œæœ‰ä¸€äº›çº¦å®šï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;åªæœ‰ç½‘ç«™æœ¬èº«ä½¿ç”¨çš„å›¾ç‰‡ï¼ˆå›¾æ ‡ã€å¤´åƒï¼‰æ”¾åˆ°staticæ–‡ä»¶å¤¹ä¸­ï¼Œå…¶ä»–åšæ–‡å›¾ç‰‡å…¨éƒ¨ä½¿ç”¨å›¾åºŠçš„æ–¹å¼+markdowné“¾æ¥å¼•ç”¨ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;ç”»å›¾å°½é‡ä½¿ç”¨mermaidã€plantumlã€draw.ioè¿™äº›çº¯æ–‡å›¾å›¾ç‰‡æ¥è®°å½•ã€‚draw.ioåŒæ ·å­˜å‚¨äºå›¾åºŠã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h2 id=&quot;bo-ke-jing-tai-wang-zhan-cun-chu&quot;&gt;åšå®¢é™æ€ç½‘ç«™å­˜å‚¨&lt;&#x2F;h2&gt;
&lt;p&gt;æƒ³è¦ä½¿ç”¨Github Pagesï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªä»“åº“ç”¨äºå­˜å‚¨buildå‡ºæ¥çš„é™æ€ç½‘ç«™æ–‡ä»¶ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;bo-ke-bian-yi-zi-dong-hua&quot;&gt;åšå®¢ç¼–è¯‘è‡ªåŠ¨åŒ–&lt;&#x2F;h2&gt;
&lt;p&gt;ç°åœ¨æºç åœ¨ä»“åº“Aä¸­ï¼Œç¼–è¯‘çš„é™æ€ç½‘ç«™åœ¨ä»“åº“Bä¸­ï¼Œæ¯æ¬¡å†™å®Œåšæ–‡éƒ½éœ€è¦æ‰‹åŠ¨buildä¸‹ç„¶åæ¨é€ä»“åº“Bã€ä»“åº“Aï¼Œè¿™å½“ç„¶æ— æ³•å¿å—ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;äºæ˜¯å¯ä»¥åˆ©ç”¨Github Actioné…ç½®æµæ°´çº¿ï¼Œæ¯æ¬¡æäº¤åˆ°ä»“åº“Aéƒ½ä¼šè§¦å‘æµæ°´çº¿ï¼Œè‡ªåŠ¨ç¼–è¯‘å‘å¸ƒä»“åº“Bã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™é‡Œæ¶‰åŠåˆ°ä»“åº“Açš„ç¼–è¯‘å‘å¸ƒæµæ°´çº¿æäº¤gitåˆ°ä»“åº“Bçš„æƒé™é—®é¢˜ï¼Œgithubå¯ä»¥ä½¿ç”¨tokenæ¥è§£å†³ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½†æ˜¯æˆ‘æ›´å€¾å‘äºä½¿ç”¨ä»“åº“çº§å¯†é’¥ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;é€šè¿‡ä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€å¯¹SSh keyï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;bash&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-bash &quot;&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;ssh-keygen -t rsa -b 4096 -C &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;&amp;quot;$(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;git config user.email&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;)&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt; -f gh-pages -N &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;&amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å°†ç”Ÿæˆçš„gh-pages.pubå…¬é’¥é…ç½®ä»“åº“Bï¼Œå…è®¸å†™å…¥ã€‚å¹¶å°†ç”Ÿæˆçš„gh-pagesç§é’¥é…ç½®ä»“åº“Açš„ç§æœ‰å˜é‡ï¼Œæˆ‘å°†å®ƒå‘½åä¸º&lt;code&gt;ZOLA&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™æ˜¯æˆ‘zolaçš„é…ç½®ï¼Œ&lt;code&gt;.github&#x2F;workflows&#x2F;deploy-website.yml&lt;&#x2F;code&gt;ï¼š&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;yaml&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-yaml &quot;&gt;&lt;code class=&quot;language-yaml&quot; data-lang=&quot;yaml&quot;&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;CI
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d3869b;&quot;&gt;on&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;push&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;branches&lt;&#x2F;span&gt;&lt;span&gt;: [ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;main &lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;workflow_dispatch&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;jobs&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;build-and-deploy&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;runs-on&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;ubuntu-latest
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;steps&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;      - &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;Checkout the code
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;uses&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;actions&#x2F;checkout@master
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;with&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;          &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;submodules&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d3869b;&quot;&gt;true
&lt;&#x2F;span&gt;&lt;span&gt;      - &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;Build Static Website
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;uses&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;shalzz&#x2F;zola-deploy-action@master
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;env&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;          &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;BUILD_ONLY&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d3869b;&quot;&gt;true
&lt;&#x2F;span&gt;&lt;span&gt;          &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;BUILD_DIR&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d3869b;&quot;&gt;.
&lt;&#x2F;span&gt;&lt;span&gt;      - &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;Deploy Static Website
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;uses&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;peaceiris&#x2F;actions-gh-pages@v3
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;with&lt;&#x2F;span&gt;&lt;span&gt;: 
&lt;&#x2F;span&gt;&lt;span&gt;         &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;deploy_key&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;${{ secrets.ZOLA }}
&lt;&#x2F;span&gt;&lt;span&gt;         &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;external_repository&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;oliverdding&#x2F;oliverdding.github.io
&lt;&#x2F;span&gt;&lt;span&gt;         &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;publish_branch&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;main
&lt;&#x2F;span&gt;&lt;span&gt;         &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;publish_dir&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;.&#x2F;public
&lt;&#x2F;span&gt;&lt;span&gt;         &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;user_name&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;&amp;#39;github-actions[bot]&amp;#39;
&lt;&#x2F;span&gt;&lt;span&gt;         &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;user_email&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;&amp;#39;github-actions[bot]@users.noreply.github.com&amp;#39;
&lt;&#x2F;span&gt;&lt;span&gt;         &lt;&#x2F;span&gt;&lt;span style=&quot;font-weight:bold;color:#8ec07c;&quot;&gt;full_commit_message&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;${{ github.event.head_commit.message }}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;shalzz&#x2F;zola-deploy-actionä¹Ÿå¯ä»¥ç›´æ¥æ¨é€ï¼Œä½†æ˜¯æˆ‘æƒ³K.I.S.Säº›ï¼Œå°±èŒè´£åˆ†ç¦»äº†ã€‚hexoã€hugoå¤§ä½“ç›¸åŒï¼Œåªè¦æ”¹åŠ¨ç¬¬äºŒéƒ¨buildå³å¯ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;kuo-zhan&quot;&gt;æ‰©å±•&lt;&#x2F;h2&gt;
&lt;p&gt;å½“ç„¶ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ç¬¬ä¸‰æ–¹å‘å¸ƒå¹³å°éƒ¨ç½²é™æ€ç½‘ç«™ï¼Œæ¯”å¦‚æ¯”è¾ƒå‡ºåçš„&lt;a href=&quot;netlify.com&quot;&gt;netify&lt;&#x2F;a&gt;å’Œ&lt;a href=&quot;vercel.com&quot;&gt;vercel&lt;&#x2F;a&gt;ï¼Œæ­¤æ—¶åªéœ€è¦æºç ä»“åº“å³å¯ç¼–è¯‘å‘å¸ƒé™æ€åšå®¢ã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        <item>
            <title>1 åŸºç¡€å¸ƒéš†è¿‡æ»¤å™¨</title>
            <pubDate>Wed, 09 Feb 2022 17:13:10 +0800</pubDate>
            <link>https://charmer.fun/posts/bloom-filter-1/</link>
            <guid>https://charmer.fun/posts/bloom-filter-1/</guid>
            <description>&lt;h2 id=&quot;jie-shao&quot;&gt;ä»‹ç»&lt;&#x2F;h2&gt;
&lt;p&gt;å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆBloom Filterï¼‰ç”¨äºåˆ¤æ–­æŸä¸ªå…ƒç´ æ˜¯å¦åœ¨é›†åˆä¸­çš„ä¸€ä¸ªç®€å•ã€é«˜æ•ˆã€å†…å­˜å ç”¨ä½çš„æ•°æ®ç»“æ„ï¼Œå®ƒç±»ä¼¼äºå“ˆå¸Œè¡¨ï¼Œç›¸æ¯”äºåè€…ï¼Œå®ƒå­˜åœ¨false positiveå€¼ï¼Œä½†æ˜¾è‘—åœ°é™ä½äº†å†…å­˜å ç”¨ã€‚è¿™ç§&lt;a href=&quot;&#x2F;categories&#x2F;probabilisticdatastructure&#x2F;&quot;&gt;æ¦‚ç‡æ€§æ•°æ®ç»“æ„&lt;&#x2F;a&gt;å€¼å¾—ä½“ä¼šï¼Œä»¥é€€ä¸ºè¿›ï¼Œ&lt;em&gt;åªè¦false positiveæ§åˆ¶åœ¨å¯ä»¥å…è®¸çš„èŒƒå›´&lt;&#x2F;em&gt;ï¼Œèµ„æºæ¶ˆè€—è¢«å¤§å¹…é™ä½[4]ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨æŸ¥æ‰¾keyæ—¶ï¼Œè¿”å›å€¼å¯èƒ½æƒ…å†µæœ‰ä¸¤ç§ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;key&lt;strong&gt;ä¸&lt;&#x2F;strong&gt;å­˜åœ¨&lt;&#x2F;li&gt;
&lt;li&gt;key&lt;strong&gt;å¯èƒ½&lt;&#x2F;strong&gt;å­˜åœ¨ï¼ˆå­˜åœ¨ã€çº³ä¼ªï¼‰&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨åŸåˆ™ï¼šfalse positiveå½±å“å¯æ§ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;h3 id=&quot;li-shi&quot;&gt;å†å²&lt;&#x2F;h3&gt;
&lt;p&gt;å¸ƒéš†è¿‡æ»¤å™¨äº1970å¹´ä»£è¢«Burton Bloomåˆ›é€ ï¼Œåœ¨æŸ¥è¯¢é›†åˆæˆå‘˜å­˜åœ¨ä¸å¦æ—¶ä¸€èˆ¬è€ƒè™‘æ—¶é—´æˆæœ¬æˆ–ç©ºé—´æˆæœ¬ï¼Œè®ºæ–‡æå‡ºç¬¬ä¸‰ä¸ªä¼˜åŒ–æ–¹å‘ï¼šAllowable Fraction of Errorsï¼Œä¹Ÿå°±æ˜¯è¯´å…è®¸ä¸€å®šçš„è¯¯åˆ¤ï¼Œæ¥å¤§å¹…é™ä½ç©ºé—´å ç”¨[1]ã€‚ä¹‹åä¸€æ®µæ—¶é—´å¸ƒéš†è¿‡æ»¤å™¨è¢«å¹¿æ³›è¿ç”¨åœ¨æ•°æ®åº“é¢†åŸŸã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¹‹ååˆæœ‰äººæå‡ºåˆ©ç”¨å¸ƒéš†è¿‡æ»¤å™¨+å…±äº«ç¼“å­˜çš„æ–¹å¼å¤§å¹…é™ä½ç¼“å­˜æœåŠ¡å™¨çš„å¸¦å®½[2]ï¼Œè‡ªæ­¤å¸ƒéš†è¿‡æ»¤å™¨åœ¨äº’è”ç½‘ä¸­å±•ç°å®åŠ›[3]ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;yuan-li&quot;&gt;åŸç†&lt;&#x2F;h3&gt;
&lt;p&gt;å¸ƒéš†è¿‡æ»¤å™¨ç”±ä»¥ä¸‹ä¸‰éƒ¨åˆ†æ„æˆï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;nä¸ªkey&lt;&#x2F;li&gt;
&lt;li&gt;mä½çš„ä½å›¾ï¼š&lt;code&gt;bitmap&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;li&gt;kä¸ªç›¸äº’ç‹¬ç«‹çš„hashå‡½æ•°ï¼š&lt;code&gt;h1, h2, ..., hk&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯ä»¥ç”¨$h_{i}(x)=MD5(x+i)$æˆ–è€…$h_{i}(x)=MD5(x|i)$å®ç°kä¸ªæ— å…³hashå‡½æ•°&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;éœ€è¦æ’å…¥keyæ—¶ï¼Œå¯¹&lt;code&gt;key = a&lt;&#x2F;code&gt;æ—¶ï¼Œç»è¿‡kä¸ªhashå‡½æ•°åå¾—åˆ°kä¸ªæ•°&lt;code&gt;h1(a), h2(a), ..., hk(a)&lt;&#x2F;code&gt;ï¼Œæ­¤æ—¶å°†&lt;code&gt;bitmap&lt;&#x2F;code&gt;ä¸­å¯¹åº”çš„ä½ç½®1ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;oliverdding&#x2F;imaw.io&#x2F;main&#x2F;inserting-key-into-bloom-filter.drawio.svg&quot; alt=&quot;å¾€å¸ƒéš†è¿‡æ»¤å™¨æ’å…¥æ–°key&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;éœ€è¦æŸ¥è¯¢keyæ—¶ï¼ŒåŒæ ·ç»è¿‡kä¸ªhashå‡½æ•°å¾—åˆ°kä¸ªä½“æ•°ï¼ŒæŸ¥è¯¢&lt;code&gt;bitmap&lt;&#x2F;code&gt;ä¸­å¯¹åº”ä½ï¼Œè‹¥å…¨ä¸º1ï¼Œåˆ™key&lt;strong&gt;å¯èƒ½&lt;&#x2F;strong&gt;å­˜åœ¨ï¼›è‹¥ä»»æ„ä½ä¸º0ï¼Œåˆ™&lt;strong&gt;ä¸€å®šä¸&lt;&#x2F;strong&gt;å­˜åœ¨ã€‚ï¼ˆè¿™é‡Œå¯ä»¥åˆ©ç”¨çŸ­è·¯å‡å°‘æ¶ˆè€—ï¼Œè‹¥å‡ºç°0åˆ™ç›´æ¥è¿”å›ä¸å­˜åœ¨ï¼‰&lt;&#x2F;p&gt;
&lt;p&gt;å½“keyè¶Šæ¥è¶Šå¤šï¼Œ&lt;code&gt;bitmap&lt;&#x2F;code&gt;ä¸­ä¸º1çš„ä½è¶Šå¤šï¼Œå¯¹äºæŸä¸ªä¸å­˜åœ¨çš„keyï¼Œkä¸ªhashå‡½æ•°å¾—åˆ°çš„åæ ‡å¯¹åº”&lt;code&gt;bitmap&lt;&#x2F;code&gt;ä¸­çš„å€¼éƒ½ä¸º1çš„æ¦‚ç‡è¶Šå¤§ï¼Œæ­¤æ—¶å°±å‘ç”Ÿfalse positiveã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;li-zi&quot;&gt;ä¾‹å­&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸ºäº†ç›´è§‚æè¿°å¸ƒéš†è¿‡æ»¤å™¨å¦‚ä½•åŠ é€ŸæŸ¥è¯¢çš„ï¼Œæˆ‘ä»¬ç”¨æ•°æ®åº“åœºæ™¯æ¥æè¿°ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘ä»¬å¯¹è¡¨ä¸­æŸä¸ªå­—æ®µå»ºç«‹bloom filterï¼Œå‡è®¾æœ‰10ä½çš„bitmapå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;0&lt;&#x2F;th&gt;&lt;th&gt;1&lt;&#x2F;th&gt;&lt;th&gt;2&lt;&#x2F;th&gt;&lt;th&gt;3&lt;&#x2F;th&gt;&lt;th&gt;4&lt;&#x2F;th&gt;&lt;th&gt;5&lt;&#x2F;th&gt;&lt;th&gt;6&lt;&#x2F;th&gt;&lt;th&gt;7&lt;&#x2F;th&gt;&lt;th&gt;8&lt;&#x2F;th&gt;&lt;th&gt;9&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;p&gt;æˆ‘ä»¬ä½¿ç”¨Fnvå’ŒMurmurè¿™ä¸¤ä¸ªhashå‡½æ•°ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é¦–å…ˆæ’å…¥å­—ç¬¦ä¸²&lt;code&gt;hello&lt;&#x2F;code&gt;ï¼Œè®¡ç®—&lt;code&gt;Fnv=6&lt;&#x2F;code&gt;ï¼Œ&lt;code&gt;Murmur=0&lt;&#x2F;code&gt;ï¼Œäºæ˜¯bitmapå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;0&lt;&#x2F;th&gt;&lt;th&gt;1&lt;&#x2F;th&gt;&lt;th&gt;2&lt;&#x2F;th&gt;&lt;th&gt;3&lt;&#x2F;th&gt;&lt;th&gt;4&lt;&#x2F;th&gt;&lt;th&gt;5&lt;&#x2F;th&gt;&lt;th&gt;6&lt;&#x2F;th&gt;&lt;th&gt;7&lt;&#x2F;th&gt;&lt;th&gt;8&lt;&#x2F;th&gt;&lt;th&gt;9&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;1&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;1&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;p&gt;æ¥ç€æ’å…¥å­—ç¬¦ä¸²&lt;code&gt;world&lt;&#x2F;code&gt;ï¼Œè®¡ç®—&lt;code&gt;Fnv=7&lt;&#x2F;code&gt;ï¼Œ&lt;code&gt;Murmur=1&lt;&#x2F;code&gt;ï¼Œäºæ˜¯bitmapå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;0&lt;&#x2F;th&gt;&lt;th&gt;1&lt;&#x2F;th&gt;&lt;th&gt;2&lt;&#x2F;th&gt;&lt;th&gt;3&lt;&#x2F;th&gt;&lt;th&gt;4&lt;&#x2F;th&gt;&lt;th&gt;5&lt;&#x2F;th&gt;&lt;th&gt;6&lt;&#x2F;th&gt;&lt;th&gt;7&lt;&#x2F;th&gt;&lt;th&gt;8&lt;&#x2F;th&gt;&lt;th&gt;9&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;1&lt;&#x2F;td&gt;&lt;td&gt;1&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;1&lt;&#x2F;td&gt;&lt;td&gt;1&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;p&gt;æ­¤æ—¶æˆ‘ä»¬æŸ¥è¯¢&lt;code&gt;charmer&lt;&#x2F;code&gt;æ˜¯å¦å­˜åœ¨ï¼Œè®¡ç®—&lt;code&gt;Fnv=12&lt;&#x2F;code&gt;ï¼Œ&lt;code&gt;Murmur=10&lt;&#x2F;code&gt;ï¼Œbitmapä¸­å­˜åœ¨0ï¼Œå› æ­¤&lt;strong&gt;ä¸å­˜åœ¨&lt;&#x2F;strong&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å†æŸ¥è¯¢&lt;code&gt;hello&lt;&#x2F;code&gt;æ˜¯å¦å­˜åœ¨ï¼Œè®¡ç®—&lt;code&gt;Fnv=6&lt;&#x2F;code&gt;ï¼Œ&lt;code&gt;Murmur=0&lt;&#x2F;code&gt;ï¼Œbitmapä¸­éƒ½ä¸º1ï¼Œå› æ­¤&lt;strong&gt;å¯èƒ½å­˜åœ¨&lt;&#x2F;strong&gt;ï¼Œéœ€è¦è®¿é—®ç£ç›˜ï¼Œå¾—çŸ¥çœŸçš„å­˜åœ¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å†æŸ¥è¯¢&lt;code&gt;zaslf&lt;&#x2F;code&gt;æ˜¯å¦å­˜åœ¨ï¼Œè®¡ç®—&lt;code&gt;Fnv=7&lt;&#x2F;code&gt;ï¼Œ&lt;code&gt;Murmur=1&lt;&#x2F;code&gt;ï¼Œbitmapéƒ½ä¸º1ï¼Œå› æ­¤&lt;strong&gt;å¯èƒ½å­˜åœ¨&lt;&#x2F;strong&gt;ï¼Œéœ€è¦è®¿é—®ç£ç›˜ï¼Œå¾—çŸ¥å®ƒä¸å­˜åœ¨ã€‚è¿™æ¬¡ç£ç›˜è®¿é—®å°±æ˜¯false positiveå¸¦æ¥çš„åå½±å“ï¼Œå¤šä½™çš„ç£ç›˜è®¿é—®ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;oliverdding&#x2F;imaw.io&#x2F;main&#x2F;bloom-filter-speed-up-answers.drawio.svg&quot; alt=&quot;å¸ƒéš†è¿‡æ»¤å™¨åŠ é€ŸæŸ¥è¯¢&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;shu-xue-tui-dao&quot;&gt;æ•°å­¦æ¨å¯¼&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;strong&gt;kå–ä½•å€¼æ—¶ï¼Œfalse positiveå‘ç”Ÿæ¦‚ç‡æœ€å°ï¼Œæ­¤æ—¶æ¦‚ç‡ä¸ºï¼Ÿ&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ç”±äºhashå‡½æ•°â€œé€‰æ‹©â€&lt;code&gt;bitmap&lt;&#x2F;code&gt;çš„ä½ç½®æ˜¯éšæœºçš„ï¼Œå› æ­¤å¯¹äºé•¿åº¦ä¸ºmçš„&lt;code&gt;bitmap&lt;&#x2F;code&gt;è€Œè¨€ï¼Œæ’å…¥ä¸€ä¸ªå€¼æ—¶æŸä¸ªä½è¢«ç½®1ã€0çš„æ¦‚ç‡åˆ†åˆ«æ˜¯$P(1) = \frac{1}{m}$ã€$P(0) = 1 - \frac{1}{m}$&lt;&#x2F;p&gt;
&lt;p&gt;å½“kä¸ªhashå‡½æ•°ç½®ä½åï¼Œå¯¹äºä»»æ„ä¸€ä¸ªä½ï¼Œä»ç„¶æ˜¯0çš„æ¦‚ç‡æ˜¯$$P&#x27;(0)=P(0)^{k}=(1 - \frac{1}{m})^{k}$$&lt;&#x2F;p&gt;
&lt;p&gt;å¯¹äºnä¸ªkeyæ’å…¥åï¼Œå¯¹äºä»»æ„ä¸€ä¸ªä½ï¼Œä»ç„¶æ˜¯0çš„æ¦‚ç‡æ˜¯$$P&#x27;&#x27;(0)=P&#x27;(0)^{n}=(1 - \frac{1}{m})^{kn}$$&lt;&#x2F;p&gt;
&lt;p&gt;ç”±äºæœ‰è‡ªç„¶å¯¹æ•°eçš„è®¡ç®—å…¬å¼$$\lim_{x \to \infty}{(1-\frac{1}{x})^{-x}}=e$$&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥&lt;strong&gt;è¿‘ä¼¼&lt;&#x2F;strong&gt;è®¡ç®—$P&#x27;&#x27;(0)$å¾—åˆ°$$P&#x27;&#x27;(0)=((1-\frac{1}{m})^{-m})^{-\frac{kn}{m}}\approx{}e^{-\frac{kn}{m}}$$&lt;&#x2F;p&gt;
&lt;p&gt;å› æ­¤ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªä½ï¼Œå…¶è¢«ç½®1çš„æ¦‚ç‡æ˜¯$$P&#x27;&#x27;(1)=1-P&#x27;&#x27;(0)\approx{}1-e^{-\frac{kn}{m}}$$&lt;&#x2F;p&gt;
&lt;p&gt;å½“alse positiveå‘ç”Ÿæ—¶ï¼Œæ˜¯æŒ‡å®ƒçš„kä¸ªhashå‡½æ•°å¾—åˆ°çš„ä½ç½®éƒ½ä¸º1ã€‚ç”±äºkä¸ªhashå‡½æ•°ç›¸äº’ç‹¬ç«‹ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—å‡ºalse positiveçš„æ¦‚ç‡ä¸º$$\varepsilon=(1-(1-\frac{1}{m})^{kn})^{k}\approx{}(1-e^{-\frac{kn}{m}})^{k}$$&lt;&#x2F;p&gt;
&lt;p&gt;ç”±äºmã€næ˜¯ç”¨æˆ·ç»™å®šçš„å€¼ï¼Œå”¯ä¸€å˜é‡å°±æ˜¯kï¼Œæˆ‘ä»¬éœ€è¦æŒ‡å®škçš„å€¼å»æœ€å°åŒ–alse positiveæ¦‚ç‡ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä»¤$p=e^{-\frac{kn}{m}}$ä»¥åŠè‡ªç„¶å¯¹æ•°å…¬å¼ï¼Œæˆ‘ä»¬æœ‰$$\varepsilon=(1-p)^{k}=e^{kln(1-p)}$$&lt;&#x2F;p&gt;
&lt;p&gt;æ­¤æ—¶å˜æ›´ä¸ºæœ€å°çš„$g=kln(1-p)$&lt;&#x2F;p&gt;
&lt;p&gt;æ— ä¸­ç”Ÿæœ‰ä¸‹å¾—åˆ°$$g=kln{}(1-p)=-\frac{m}{n}ln(e^{-\frac{kn}{m}})ln(1-p)=-\frac{m}{n}ln(p)ln(1-p)$$&lt;&#x2F;p&gt;
&lt;p&gt;æ ¹æ®å¯¹ç§°æ€§åŸç†å¾—çŸ¥å½“$p=\frac{1}{2}$æ—¶gå–å¾—æœ€å°ï¼Œæ­¤æ—¶æœ‰$$k=\frac{m}{n}ln(2)$$&lt;&#x2F;p&gt;
&lt;p&gt;æ’å…¥å›$$\varepsilon=(1-p)^{k}$$å¾—åˆ°alse positiveçš„æœ€å°å€¼ä¸º$$\varepsilon_{min}=(\frac{1}{2})^{k}\approx{}(0.6185)^{\frac{m}{n}}$$&lt;&#x2F;p&gt;
&lt;h2 id=&quot;ying-yong&quot;&gt;åº”ç”¨&lt;&#x2F;h2&gt;
&lt;p&gt;é‚£ä¹ˆå¦‚ä½•åœ¨é¡¹ç›®ä¸­ä½¿ç”¨bloom filterå‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;h3 id=&quot;yi-zhi-n-he-varepsilon&quot;&gt;å·²çŸ¥$n$å’Œ$\varepsilon$&lt;&#x2F;h3&gt;
&lt;p&gt;$n$ç”±ç³»ç»Ÿè¾“å…¥å†³å®šï¼Œ$\varepsilon$åˆ™æ˜¯å¼€å‘è€…å¹³è¡¡å†…å­˜ä½¿ç”¨å’Œæ€§èƒ½çš„é€‰æ‹©ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ä¼ å…¥è¿™ä¸¤ä¸ªå˜é‡è‡ªåŠ¨è®¡ç®—å‰©ä¸‹çš„å€¼ã€‚&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;æ ¹æ®å…¬å¼$m=\lceil{}-\frac{nln(\varepsilon)}{(ln(2))^2}\rceil$è®¡ç®—mçš„å€¼&lt;&#x2F;li&gt;
&lt;li&gt;æ ¹æ®å…¬å¼$k=\lceil{}-log_2(\varepsilon)\rceil$è®¡ç®—kçš„å€¼&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h2 id=&quot;que-xian&quot;&gt;ç¼ºé™·&lt;&#x2F;h2&gt;
&lt;p&gt;åŸºç¡€bloom filteræœ‰ç€è‡ªå·±çš„å±€é™æ€§ï¼Œå› æ­¤å‡ºç°äº†è®¸å¤šå˜ç§ï¼Œå®ƒä»¬ä¸ºäº†ç‰¹æ®Šåœºæ™¯ä½œå‡ºä¸åŒçš„å®šåˆ¶ï¼Œå¢åŠ ä¸€å®šå¼€é”€æ¢å–æ›´å¤šåŠŸèƒ½ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;æ— æ³•åˆ é™¤å…ƒç´ ï¼šè®¡æ•°å¸ƒéš†è¿‡æ»¤å™¨&lt;&#x2F;li&gt;
&lt;li&gt;æ— æ³•æ‰©å±•ï¼š&lt;a href=&quot;&#x2F;posts&#x2F;bloom-filter-2&#x2F;&quot;&gt;å¯æ‰©å±•å¸ƒéš†è¿‡æ»¤å™¨&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;can-kao&quot;&gt;å‚è€ƒ&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;[1]: Space&#x2F;Time Trade-offs in Hash Coding with Allowable Errors&lt;&#x2F;li&gt;
&lt;li&gt;[2]: Summary Cache: A Scalable Wide-Area Web Cache Sharing Protocol &lt;&#x2F;li&gt;
&lt;li&gt;[3]: Network Applications of Bloom Filters: A Survey&lt;&#x2F;li&gt;
&lt;li&gt;[4]: Bloom Filters by Example. https:&#x2F;&#x2F;llimllib.github.io&#x2F;bloomfilter-tutorial&#x2F;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
        </item>
        <item>
            <title>Apache Arrow: å¤§æ•°æ®åœ¨æ•°æ®æ¹–åçš„ä¸‹ä¸€ä¸ªé£å‘æ ‡</title>
            <pubDate>Thu, 18 Nov 2021 10:59:50 +0800</pubDate>
            <link>https://charmer.fun/posts/apache-arrow-the-next-windfall-after-the-data-lake-in-big-data/</link>
            <guid>https://charmer.fun/posts/apache-arrow-the-next-windfall-after-the-data-lake-in-big-data/</guid>
            <description>&lt;h2 id=&quot;jie-shao&quot;&gt;ä»‹ç»&lt;&#x2F;h2&gt;
&lt;p&gt;æ ¹æ®&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;arrow.apache.org&#x2F;overview&#x2F;&quot;&gt;å®˜æ–¹æ–‡æ¡£&lt;&#x2F;a&gt;ä»‹ç»ï¼ŒArrowæ˜¯&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;A language-independent columnar memory format for flat and hierarchical data, organized for efficient analytic operations on modern hardware like CPUs and GPUs. The Arrow memory format also supports zero-copy reads for lightning-fast data access without serialization overhead.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;ä¸€å¥è¯æ¦‚æ‹¬ï¼ŒArrowç”¨äºç³»ç»Ÿé—´é«˜æ•ˆäº¤äº’æ•°æ®çš„ç»„ä»¶ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;arrowde-he-xin-neng-li&quot;&gt;Arrowçš„æ ¸å¿ƒèƒ½åŠ›&lt;&#x2F;h3&gt;
&lt;p&gt;Arrowæœ¬èº«ä¸æ˜¯ä¸€ä¸ªå­˜å‚¨ã€æ‰§è¡Œå¼•æ“ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªäº¤äº’æ•°æ®çš„åŸºç¡€åº“ã€‚æ¯”å¦‚å¯ä»¥ç”¨äºä»¥ä¸‹ç»„ä»¶&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;SQLæ‰§è¡Œå¼•æ“ (e.g., Drill and Impala)&lt;&#x2F;li&gt;
&lt;li&gt;æ•°æ®åˆ†æç³»ç»Ÿ (e.g., Pandas and Spark)&lt;&#x2F;li&gt;
&lt;li&gt;æµå’Œé˜Ÿåˆ—ç³»ç»Ÿ (e.g., Kafka and Storm)&lt;&#x2F;li&gt;
&lt;li&gt;å­˜å‚¨ç³»ç»Ÿ (e.g., Parquet, Kudu, Cassandra and HBase)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;bei-jing&quot;&gt;èƒŒæ™¯&lt;&#x2F;h2&gt;
&lt;blockquote&gt;
&lt;p&gt;æ¯ä¸ªäº‹ç‰©çš„äº§ç”Ÿå‘å±•éƒ½æœ‰å…¶å†å²åŸå› ï¼Œå¦‚æœæŠ›å¼€ç›®çš„å»â€œå­¦ä¹ â€ï¼ŒçŠ¹å¦‚ç«¹ç¯®å­æ‰“æ°´-ä¸€åœºç©º&lt;&#x2F;p&gt;
&lt;p align=&quot;right&quot;&gt;- æˆ‘è¯´çš„ ;)&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;è®©æˆ‘ä»¬å›åˆ°2008å¹´ï¼Œæ•…äº‹ä»é‚£å¼€å§‹...&lt;&#x2F;p&gt;
&lt;h3 id=&quot;qi-yin&quot;&gt;èµ·å› &lt;&#x2F;h3&gt;
&lt;p&gt;Wes McKinneyåœ¨2008å¹´å¼€å¯äº†Pandasé¡¹ç›®ï¼Œè¿™ä¸ªpythonä¸­åˆ†æã€æ“ä½œæ•°æ®çš„ç‘å£«å†›åˆ€ã€‚ç´§æ¥ç€åœ¨2014å¹´ï¼ŒWesåŠ å…¥Clouderaå…¬å¸ï¼Œå¹¶ç€æ‰‹ç ”ç©¶å¦‚ä½•è®©pythonå¯ä»¥â€œæ’å…¥â€æ‰€æœ‰çš„å¤§æ•°æ®ç»„ä»¶å’Œæ•°æ®åº“ï¼Œä½†æ˜¯æ¯ä¸ªç³»ç»Ÿéƒ½æœ‰è‡ªå·±æ“ä½œæ•°æ®çš„æ–¹å¼ï¼Œäºæ˜¯ï¼š&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;quot;Oh my gosh, I&#x27;m going to have to write a dozen different data converters to marshal data, convert data between Pandas each of these data processing systems from Spark, to Impala, to different file formats and HDFS, so it was basically this overwhelming problem.&amp;quot;&lt;&#x2F;p&gt;
&lt;p align=&quot;right&quot;&gt;- Wes McKinney&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨å¤§æ•°æ®ç§‘å­¦é¢†åŸŸï¼Œdataframeçš„æ¦‚å¿µéšå¤„å¯è§ï¼Œæ¯ä¸ªæ¡†æ¶éƒ½å°†datafrmeä½œä¸ºé«˜å±‚å®šä¹‰ï¼Œä»£è¡¨ä¸€ä¸ªè¡¨ã€ä¸€ç³»åˆ—API...ä½†æ˜¯å…¶åº•å±‚çš„å®ç°å¤©å£¤æ‚¬éš”ï¼ŒWeså®Œå…¨æ— æ³•å¤ç”¨ä»£ç ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;æ— æ³•å…±äº«æ•°æ®&lt;&#x2F;strong&gt;ã€&lt;strong&gt;æ— æ³•å…±äº«ä»£ç &lt;&#x2F;strong&gt;è¿™ä¸¤ä¸ªå¤§éš¾é¢˜æš‚æ—¶å›°ä½äº†Wesã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;fa-zhan&quot;&gt;å‘å±•&lt;&#x2F;h3&gt;
&lt;p&gt;Weså¼€å§‹è®¾è®¡ä¸€ç§table middlewareï¼Œä½œä¸ºä¸åŒç»„ä»¶äº¤æ¢æ•°æ®çš„ä¸­é—´å±‚ï¼Œä¸€ç§è¡¨æ¥å£çš„æ ‡å‡†(standardized table interface)ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ¥ç€æ¥åˆ°2015å¹´ï¼ŒWeså›¢é˜Ÿé‡åˆ°äº†Jacqueså’ŒApache Drillç¤¾åŒºçš„å°ä¼™ä¼´ä»¬ï¼Œä¸¤ä¼™äººä¸è°‹è€Œåˆï¼Œå¼€å§‹äº†åˆä½œã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç”±äºä¸šç•Œæ²¡æœ‰ç»Ÿä¸€è§„èŒƒçš„å®šä¹‰ï¼Œä»–ä»¬åˆä½œçš„é¦–ä¸ªé¡¹ç›®å°±æ˜¯è®¾è®¡å‡ºäº†ä¸€ä¸ªå†…å­˜è¡¨è§†å›¾çš„æ ‡å‡†ï¼Œå¹¶åœ¨ä¸åŒè¯­è¨€éƒ½ç»™å‡ºå®ç°ä»¥è¯æ˜å¯ä»¥åœ¨ä¸åŒè¯­è¨€ä¸­å…±äº«æ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯ä»¥é«˜æ•ˆåœ°å°†æ•°æ®ä»Javaåˆ°C++ï¼Œæˆ–è€…Pythonã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è‡ªæ­¤ï¼Œarrowé¡¹ç›®åˆ›ç«‹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨é¡¹ç›®æ—©æœŸï¼Œæœ€é‡è¦çš„æ˜¯è®¾è®¡å‡ºä¸€å¥—ä¸è¯­è¨€æ— å…³çš„å†…å­˜è¡¨ç»“æ„ï¼Œå¹¶ä¸€å®šè¦æ–¹ä¾¿åˆ†æå¤„ç†ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜éœ€è¦å°†å„ç§æ ¼å¼ã€ç±»å‹çš„æ•°æ®è½¬æ¢ã€è½¬å‡ºä¸ºè¿™ä¸ªæ ‡å‡†æ ¼å¼çš„åº“ã€‚æœ€åï¼Œè¿˜éœ€è¦ä¸€ä¸ªè®¡ç®—å¤„ç†çš„åº“ï¼Œä»¥ä¾¿äºç›´æ¥åŸºäºarrowè¿›è¡Œå¿«é€Ÿæ•°æ®åˆ†æå¤„ç†ã€‚&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;quot;An important thing to remember about the project is that it&#x27;s front-end agnostic. So it&#x27;s not a new data frame library, like Pandas. It&#x27;s not a new database.&amp;quot;&lt;&#x2F;p&gt;
&lt;p align=&quot;right&quot;&gt;- Wes McKinney&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;æ­¤å¤–ï¼ŒWesåœ¨å’ŒApache Impalaå›¢é˜Ÿåˆä½œçš„æ—¶å€™ï¼Œå‘ç°Impalaçš„ä»£ç ä¸­æœ‰å¤§é‡å’Œpandasåšç›¸ä¼¼äº‹æƒ…çš„ç‰‡æ®µï¼Œæ¯”å¦‚CSVåºåˆ—åŒ–ã€ååºåˆ—åŒ–çš„ï¼ŒI&#x2F;Oå­ç³»ç»Ÿï¼Œè‡ªå·±çš„æŸ¥è¯¢å¼•æ“ï¼Œç”šè‡³è‡ªå·±çš„å‰ç«¯ã€‚åœ¨æœ‰äº†è¿™æ ·ä¸€ä¸ªè¯­è¨€æ— å…³çš„å†…å­˜æ•°æ®æ ¼å¼ï¼Œä»–ä»¬å¼€å§‹æ€è€ƒå¦‚ä½•é¿å…é‡å¤ä»£ç ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;shi-xian&quot;&gt;å®ç°&lt;&#x2F;h2&gt;
&lt;p&gt;æ•…äº‹è®²å®Œäº†ï¼Œç°åœ¨è®©æˆ‘ä»¬ä¸€èµ·æ¥æ¢ç´¢ä¸‹arrowçš„è®¾è®¡ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é¢å¯¹ä¸åŒè¯­è¨€ã€ä¸åŒå¤§æ•°æ®ç»„ä»¶ä¹‹é—´çš„å·®å¼‚ï¼Œé¦–å…ˆæˆ‘ä»¬è‚¯å®šéœ€è¦ä¸€ä¸ªä¸­é—´çš„è¡¨ç¤ºæ¥é¿å…æˆ‘ä»¬çš„åç«¯ç›´é¢å·®å¼‚ï¼Œä¹Ÿå°±æ˜¯å‰æ–‡æåˆ°çš„è¯­è¨€æ— å…³çš„å†…å­˜è¡¨è§†å›¾ï¼Œè¿™é‡Œå°±æœ‰ä¸€ä¸ªå¿…é¡»æŒ–æ˜çš„ç‚¹ï¼Œä¸ºäº†æ‰¹é‡æ•°æ®åˆ†æï¼Œæˆ‘ä»¬åº”å½“é€‰æ‹©&lt;strong&gt;åˆ—å¼å­˜å‚¨&lt;&#x2F;strong&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;i.loli.net&#x2F;2021&#x2F;11&#x2F;13&#x2F;BNGPznF9xUy4qMi.png&quot; alt=&quot;åˆ—å­˜è¡¨æŸ¥è¯¢&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ä½¿ç”¨åˆ—å­˜çš„æ–¹å¼ä¸ä»…å‡å°‘äº†æ‰«æå†…å­˜çš„pageæ•°ï¼Œè¿˜å¯ä»¥åˆ©ç”¨ç°åœ¨è®¡ç®—æœºSIMD(Single Instruction, Multiple Data)æŒ‡ä»¤è¿›è¡ŒåŠ é€Ÿã€‚&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;p&gt;æ‰©å±•é˜…è¯» - &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;http:&#x2F;&#x2F;dbmsmusings.blogspot.com&#x2F;2017&#x2F;10&#x2F;apache-arrow-vs-parquet-and-orc-do-we.html&quot;&gt;Daniel Abadiçš„å®éªŒ&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Danielåœ¨äºšé©¬é€Šçš„EC2 t2.mediumæœºå™¨ä¸Šåˆ›å»ºäº†ä¸€ä¸ªæœ‰60,000,000è¡Œæ•°æ®çš„å†…å­˜è¡¨ã€‚è¡¨ç”±6ä¸ªint32åˆ—ç»„æˆï¼Œæ•´ä¸ªè¡¨å¤§æ¦‚ç”±1.5GBã€‚ä»–åˆ›å»ºäº†è¡Œè¡¨å’Œåˆ—è¡¨ä¸¤ä¸ªå®ä¾‹ï¼Œå¹¶å¯¹ä¸¤ç§è¡¨è¿›è¡Œç®€å•åœ°filteræŸä¸ªå€¼ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨æœªå¼€CPUä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œå¾—åˆ°ç»“æœï¼š&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;i.loli.net&#x2F;2021&#x2F;11&#x2F;13&#x2F;wjkzO3cfR1BAdiE.png&quot; alt=&quot;æ— SIMD&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è¡Œè¡¨å’Œåˆ—è¡¨æŸ¥è¯¢è€—æ—¶ç›¸å·®æ— å‡ ã€‚å¯¹äºè¡Œè¡¨ï¼Œæ¯è¡Œéƒ½éœ€è¦æ‰«æï¼Œå³ä½¿åªä½¿ç”¨åˆ°ç¬¬ä¸€åˆ—ï¼›å¯¹äºåˆ—è¡¨åˆ™åªéœ€è¦æ‰«æç¬¬ä¸€åˆ—ï¼ŒæŒ‰ç†è¯´åˆ—è¡¨åº”è¯¥æ˜¯è¡Œè¡¨çš„6å€å¿«ï¼Œä½†æ˜¯åœ¨è¿™ä¸ªå®éªŒä¸­ç”±äºCPUæ˜¯ç“¶é¢ˆï¼Œè€Œä¸æ˜¯å†…å­˜å‘å¾€CPUçš„æ•°æ®ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½†æ˜¯å¼€å¯SIMDåï¼Œç»“æœå¦‚ä¸‹ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;i.loli.net&#x2F;2021&#x2F;11&#x2F;13&#x2F;ysv8F1SCMaQHEOw.png&quot; alt=&quot;å¼€SIMD&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;SIMDå¯ä»¥åŒæ—¶æ¯”è¾ƒå¤šä¸ªæ•°å€¼ï¼ˆè¿™é‡Œæ˜¯4ä¸ªæ•°ï¼Œå·®ä¸å¤š3å€å¿«ï¼‰ï¼Œå‡å°‘æ‰“ä¹±æµæ°´çº¿çš„æƒ…å†µ&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬å¯ä»¥ç»§ç»­è€ƒè™‘å¦‚ä½•è®¾è®¡è¯­è¨€æ— å…³çš„å†…å­˜è¡¨ç»“æ„äº†&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;i.loli.net&#x2F;2021&#x2F;11&#x2F;13&#x2F;Ca6DOkIohglrXx4.png&quot; alt=&quot;ç›´æ¥IPC&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Arrowéœ€è¦ä½œä¸ºé€šç”¨çš„ä¼ è¾“ç»“æ„&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;i.loli.net&#x2F;2021&#x2F;11&#x2F;13&#x2F;uJ5fAIYCXZK9eND.png&quot; alt=&quot;é€šè¿‡arrowäº¤äº’&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å¯æ˜¯ä»£ç å…±äº«è¯¥å¦‚ä½•å®ç°å‘¢ï¼ŸArrowä¸åº”è¯¥æ˜¯jsonã€protobufä¹‹æµï¼Œåè€…é€‚ç”¨äºç£ç›˜å±‚é¢çš„æ•°æ®å­˜å‚¨äº¤äº’ã€‚Arrowåº”å½“ä½œä¸ºå„ä¸ªè¯­è¨€ã€ç»„ä»¶ä¸­çš„ä¸€ç§æ•°æ®æ ¼å¼åº“ï¼Œåº”è¯¥æ˜¯è¿è¡Œæ—¶çš„æ•°æ®å­˜å‚¨äº¤äº’ï¼ç›´æ¥å¯ä»¥æ“ä½œæ•°æ®ï¼Œå­˜å–ã€è®¡ç®—ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;i.loli.net&#x2F;2021&#x2F;11&#x2F;13&#x2F;pGxX76nHLvmNPYy.png&quot; alt=&quot;æ•°æ®æ“ä½œ&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;arrowlie-ge-shi&quot;&gt;Arrowåˆ—æ ¼å¼&lt;&#x2F;h2&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸš§ æœ¬èŠ‚å†…å®¹ç¿»è¯‘æ•´ç†è‡ªapache&#x2F;arrowä»£ç ä»“åº“ä¸­&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;apache&#x2F;arrow&#x2F;blob&#x2F;master&#x2F;docs&#x2F;source&#x2F;format&#x2F;Columnar.rst&quot;&gt;Arrow Columnar Formatè§„èŒƒ&lt;&#x2F;a&gt;ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;Arrowåˆ—æ ¼å¼åŒ…å«ä¸‰éƒ¨åˆ†ï¼šä¸è¯­è¨€æ— å…³çš„å†…å­˜æ•°æ®ç»“æ„è§„èŒƒã€å…ƒæ•°æ®åºåˆ—åŒ–ä»¥åŠä¸€ä¸ªç”¨äºåºåˆ—åŒ–å’Œé€šç”¨æ•°æ®ä¼ è¾“çš„åè®®ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¯¥åˆ—æ ¼å¼æ”¯æŒï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;é¡ºåºè®¿é—®çš„æ•°æ®&lt;&#x2F;li&gt;
&lt;li&gt;O(1)çš„éšæœºè¯»å†™&lt;&#x2F;li&gt;
&lt;li&gt;æ”¯æŒSIMDï¼Œå‘é‡åŒ–æ“ä½œå‹å¥½&lt;&#x2F;li&gt;
&lt;li&gt;å¯é‡æ–°å®šä½è€Œæ— â€œpointer swizzlingâ€é—®é¢˜ï¼Œå…è®¸åœ¨å…±äº«å†…å­˜ä¸­zero-copy&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;hr &#x2F;&gt;
&lt;p&gt;æ‰©å±•é˜…è¯» - &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Pointer_swizzling&quot;&gt;pointer swizzling&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ç®€å•æ¥è¯´ï¼Œå†…å­˜ä¸­æŒ‡é’ˆæ‰€æŒ‡å‘çš„åœ°å€åœ¨å†™å…¥ç£ç›˜ï¼ˆåºåˆ—åŒ–ï¼‰å’Œä»ç£ç›˜è½½å…¥æŒ‡é’ˆæ•°æ®ï¼ˆååºåˆ—åŒ–ï¼‰æ—¶ï¼Œéœ€è¦é€šè¿‡æŸç§æ–¹å¼ï¼ˆswizzlingå’Œunswizzlingï¼‰æ¥ä½¿å¾—æŒ‡é’ˆå­˜å‚¨çš„åœ°å€ä¿¡æ¯æœ‰æ•ˆã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ‰©å±•é˜…è¯» - &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Zero-copy&quot;&gt;é›¶æ‹·è´&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;zero-copyï¼ˆé›¶æ‹·è´ï¼‰ä¸æ˜¯æŒ‡çœŸçš„æ²¡æœ‰æ‹·è´äº†ï¼Œè€Œæ˜¯è¯´å‡å°‘äº†ä¸å¿…è¦çš„æ•°æ®æ‹·è´ä¸ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼ˆç³»ç»Ÿè°ƒç”¨ï¼‰ã€‚æ¯”å¦‚æ­£å¸¸æƒ…å†µä¸‹ç”¨æˆ·æ€è¿›ç¨‹å¸Œæœ›ä»ç£ç›˜ä¸­è¯»å–æ•°æ®å¹¶å†™å…¥socketï¼Œæ­¤æ—¶éœ€è¦æ•°æ®æµç»è¿‡ç£ç›˜-&amp;gt;ç³»ç»Ÿæ€å†…å­˜-&amp;gt;ç”¨æˆ·æ€å†…å­˜-&amp;gt;ç³»ç»Ÿæ€å†…å­˜-&amp;gt;socketï¼Œå‘ç”Ÿäº†ä¸¤æ¬¡ç³»ç»Ÿè°ƒç”¨(ç£ç›˜çš„read()å’Œå†™å…¥socketçš„write())ã€‚ä½¿ç”¨ç³»ç»Ÿæä¾›çš„é›¶æ‹·è´å‡½æ•°(æ¯”å¦‚sendfile())åˆ™å¯ä»¥ç¼©å‡ä¸ºç£ç›˜-&amp;gt;ç³»ç»Ÿæ€å†…å­˜-&amp;gt;socketã€‚&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;p&gt;åœ¨Arrowä¸­ï¼Œæœ€åŸºæœ¬çš„ç»“æ„æ˜¯array(æˆ–è€…å«vectorï¼Œæ˜¯ç”±ä¸€åˆ—ç›¸åŒç±»å‹çš„å€¼ç»„æˆï¼Œé•¿åº¦å¿…é¡»å·²çŸ¥ï¼Œä¸”æœ‰ä¸Šé™ï¼›æ¢ä¸ªå¸¸è§çš„å«æ³•æ˜¯fieldï¼Œå­—æ®µ)ï¼Œæ¯ä¸ªarrayéƒ½æœ‰å¦‚ä¸‹å‡ ä¸ªéƒ¨åˆ†ç»„æˆï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;é€»è¾‘ä¸Šçš„æ•°æ®ç±»å‹ï¼ˆè®°å½•arrayç±»å‹ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;ä¸€åˆ—ç¼“å†²åŒºï¼ˆå­˜æ”¾å…·ä½“æ•°å­—ã€nullï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;ä¸€ä¸ªé•¿åº¦ä¸º64ä½å¸¦ç¬¦å·çš„æ•´æ•°ï¼ˆè®°å½•arrayé•¿åº¦ï¼Œä¹Ÿå¯ä»¥æ˜¯32ä½ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;å¦ä¸€ä¸ªé•¿åº¦ä¸º64ä½çš„å¸¦ç¬¦å·çš„æ•´æ•°ï¼ˆè®°å½•nullå€¼çš„æ•°é‡ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;ï¼ˆå¯é€‰ï¼‰å­—å…¸ï¼ˆç”¨äºå­—å…¸ç¼–ç çš„arrayï¼‰&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Arrowè¿˜æ”¯æŒåµŒå¥—arrayç±»å‹ï¼Œå…¶å®å°±æ˜¯ä¸€åˆ—arrayç»„æˆï¼Œå®ƒä»¬å«åšå­array(child arrays)ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;wu-li-nei-cun-bu-ju&quot;&gt;ç‰©ç†å†…å­˜å¸ƒå±€&lt;&#x2F;h3&gt;
&lt;p&gt;æ¯ä¸€ä¸ªé€»è¾‘ç±»å‹éƒ½æœ‰ä¸€ä¸ªå®šä¹‰æ˜ç¡®çš„ç‰©ç†å¸ƒå±€ï¼ŒArrowå®šä¹‰äº†å¦‚ä¸‹ç‰©ç†å¸ƒå±€ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Primitive(fixed-size)ï¼šç”¨äºå­˜æ”¾å…·æœ‰ç›¸åŒé•¿åº¦çš„æ•°å€¼&lt;&#x2F;li&gt;
&lt;li&gt;Variable-size Binaryï¼šç”¨äºå­˜æ”¾é•¿åº¦å¯å˜çš„æ•°å€¼ã€‚æ”¯æŒ32ä½å’Œ64ä½çš„é•¿åº¦ç¼–ç &lt;&#x2F;li&gt;
&lt;li&gt;Fixed-size Listï¼šåµŒå¥—ç±»å‹ï¼Œä½†æ˜¯æ¯ä¸ªå­arrayé•¿åº¦å¿…é¡»ç›¸åŒ&lt;&#x2F;li&gt;
&lt;li&gt;Variable-size Listï¼šåµŒå¥—ç±»å‹ï¼Œæ¯ä¸ªå­arrayé•¿åº¦å¯ä»¥ä¸ä¸€è‡´ã€‚æ”¯æŒ32ä½å’Œ64ä½çš„é•¿åº¦ç¼–ç &lt;&#x2F;li&gt;
&lt;li&gt;Structï¼šåµŒå¥—ç±»å‹ï¼Œç”±ä¸€ç»„é•¿åº¦ç›¸åŒçš„å‘½åå­å­—æ®µç»„æˆï¼Œä½†å­å­—æ®µçš„ç±»å‹å¯ä»¥ä¸ä¸€è‡´ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;Spareå’ŒDense Unionï¼šåµŒå¥—ç±»å‹ï¼Œä½†æ˜¯åªæœ‰ä¸€ç»„arrayï¼Œæ¯ä¸ªæ•°å€¼çš„ç±»å‹æ˜¯å­ç±»å‹é›†åˆä¹‹ä¸€&lt;&#x2F;li&gt;
&lt;li&gt;Nullï¼šå­˜æ”¾ä¸€ç»„nullå€¼ï¼Œé€»è¾‘ç±»å‹åªèƒ½æ˜¯null&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4 id=&quot;bu-ju-li-zi&quot;&gt;å¸ƒå±€ä¾‹å­&lt;&#x2F;h4&gt;
&lt;p&gt;æœ¬å°èŠ‚ä»¥Fixed-size Primitive Layoutä¸ºä¾‹å­è®²è¿°Arrowæœ€åŸºç¡€çš„å†…å­˜å¸ƒå±€ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚å‰æ–‡æ‰€è¿°ï¼ŒPrimitiveç±»å‹çš„æ•°å€¼æ§½é•¿åº¦ç›¸åŒï¼Œåªèƒ½å­˜æ”¾å›ºå®šé•¿åº¦çš„æ•°å€¼ï¼Œå¯ä»¥æ˜¯å­—èŠ‚æˆ–è€…æ¯”ç‰¹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ”¾åˆ°å…·ä½“å†…å­˜å¸ƒå±€ä¸Šï¼Œæœ¬ç±»å‹åŒ…å«ä¸€ä¸ªè¿ç»­çš„å†…å­˜ç¼“å†²åŒºï¼Œæ€»å¤§å°åˆ™æ˜¯æ§½å®½*é•¿åº¦ï¼ˆå¯¹äºæ¯”ç‰¹çš„æ§½å®½ï¼Œåˆ™éœ€è¦å››èˆäº”å…¥åˆ°å­—èŠ‚ï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç»™å‡ºæ–‡æ¡£ä¸­ä¸€ä¸ªInt32 Arrayçš„ä¾‹å­ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#282828;color:#fdf4c1aa;&quot;&gt;&lt;code&gt;&lt;span&gt;[1, null, 2, 4, 8]
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä¼šè¿™æ ·è¡¨ç¤ºï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#282828;color:#fdf4c1aa;&quot;&gt;&lt;code&gt;&lt;span&gt;* Length: 5, Null count: 1
&lt;&#x2F;span&gt;&lt;span&gt;* Validity bitmap buffer:
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  |Byte 0 (validity bitmap) | Bytes 1-63            |
&lt;&#x2F;span&gt;&lt;span&gt;  |-------------------------|-----------------------|
&lt;&#x2F;span&gt;&lt;span&gt;  | 00011101                | 0 (padding)           |
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;* Value Buffer:
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  |Bytes 0-3   | Bytes 4-7   | Bytes 8-11  | Bytes 12-15 | Bytes 16-19 | Bytes 20-63 |
&lt;&#x2F;span&gt;&lt;span&gt;  |------------|-------------|-------------|-------------|-------------|-------------|
&lt;&#x2F;span&gt;&lt;span&gt;  | 1          | unspecified | 2           | 4           | 8           | unspecified |
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å…¶ä¸­æœ‰æ•ˆæ€§ä½å›¾æ˜¯ç”¨äºè®°å½•æ¯ä¸ªå€¼æ§½æ˜¯å¦ä¸ºç©ºçš„ã€‚å…·ä½“çœ‹&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;arrow.apache.org&#x2F;docs&#x2F;format&#x2F;Columnar.html#validity-bitmaps&quot;&gt;è§„èŒƒ&lt;&#x2F;a&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å‰©ä¸‹çš„å¸ƒå±€éƒ½åœ¨Primitiveå¸ƒå±€ä¸Šå˜åŒ–è€Œæ¥ï¼Œå…·ä½“çœ‹è§„èŒƒã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;bu-ju-shi-yong-de-huan-chong-qu&quot;&gt;å¸ƒå±€ä½¿ç”¨çš„ç¼“å†²åŒº&lt;&#x2F;h4&gt;
&lt;p&gt;Arrowçš„å‡ ç§ç‰©ç†å¸ƒå±€ç”¨åˆ°çš„ç¼“å†²åŒºå¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th align=&quot;center&quot;&gt;&lt;strong&gt;Layout Type&lt;&#x2F;strong&gt;&lt;&#x2F;th&gt;&lt;th align=&quot;center&quot;&gt;&lt;strong&gt;Buffer 0&lt;&#x2F;strong&gt;&lt;&#x2F;th&gt;&lt;th align=&quot;center&quot;&gt;&lt;strong&gt;Buffer 1&lt;&#x2F;strong&gt;&lt;&#x2F;th&gt;&lt;th align=&quot;center&quot;&gt;&lt;strong&gt;Buffer 2&lt;&#x2F;strong&gt;&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;tr&gt;&lt;td align=&quot;center&quot;&gt;Primitive&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;validity&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;data&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td align=&quot;center&quot;&gt;Variable Binary&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;validity&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;offsets&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;data&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td align=&quot;center&quot;&gt;List&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;validity&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;offsets&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td align=&quot;center&quot;&gt;Fixed-size List&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;validity&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td align=&quot;center&quot;&gt;Struct&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;validity&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td align=&quot;center&quot;&gt;Sparse Union&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;type ids&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td align=&quot;center&quot;&gt;Dense Union&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;type ids&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;offsets&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td align=&quot;center&quot;&gt;Null&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td align=&quot;center&quot;&gt;Dictionary-encoded&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;validity&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;data (indices)&lt;&#x2F;td&gt;&lt;td align=&quot;center&quot;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;p&gt;Arrowå¦‚ä½•å®ç°O(1)è¯»å†™çš„å‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;æ‰€æœ‰çš„ç‰©ç†å¸ƒå±€åº•å±‚éƒ½æ˜¯ç”¨æ•°ç»„å­˜å‚¨æ•°æ®ï¼Œå¹¶ä¸”ä¼šæ ¹æ®å±‚çº§åµŒå¥—å»ºç«‹offsets bitmapï¼Œå½“ç„¶å°±å®ç°äº†O(1)çš„è¯»å†™é€Ÿåº¦äº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;luo-ji-lei-xing&quot;&gt;é€»è¾‘ç±»å‹&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;apache&#x2F;arrow&#x2F;blob&#x2F;master&#x2F;format&#x2F;Schema.fbs&quot;&gt;Schema.fbs&lt;&#x2F;a&gt;å®šä¹‰äº†Arrowæ”¯æŒçš„é€»è¾‘ç±»å‹ï¼Œæ¯ç§é€»è¾‘ç±»å‹éƒ½ä¼šå¯¹åº”åˆ°ä¸€ç§ç‰©ç†å¸ƒå±€ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xu-lie-hua-yu-ipc&quot;&gt;åºåˆ—åŒ–ä¸IPC&lt;&#x2F;h3&gt;
&lt;p&gt;åˆ—å¼æ ¼å¼åºåˆ—åŒ–æ—¶æœ€åŸå§‹çš„å•ä½æ˜¯&amp;quot;record batch&amp;quot;(ä¹Ÿå°±æ˜¯ä¸€ä¸ªè¡¨ï¼Œtableå•¦)ã€‚ä¸€ä¸ªrecord batchæ˜¯ä¸€ç»„æœ‰åºçš„arrayçš„é›†åˆï¼Œè¢«ç§°ä¸ºrecord batchçš„å­—æ®µ(fields)ã€‚æ¯ä¸ªå­—æ®µ(field)æœ‰ç›¸åŒçš„é•¿åº¦ï¼Œä½†æ˜¯å­—æ®µçš„æ•°æ®ç±»å‹å¯ä»¥ä¸ä¸€æ ·ã€‚record batchçš„å­—æ®µåã€ç±»å‹æ„æˆäº†å®ƒçš„schemaã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ¬èŠ‚æè¿°ä¸€ä¸ªåè®®ï¼Œç”¨äºå°†record batchåºåˆ—åŒ–ä¸ºäºŒè¿›åˆ¶æµï¼Œå¹¶å¯ä»¥æ— éœ€å†…å­˜æ‹·è´é‡æ„record batchã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åºåˆ—åŒ–æ—¶ä¼šåˆ†ä¸ºè¿™ä¸‰éƒ¨åˆ†ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Schema&lt;&#x2F;li&gt;
&lt;li&gt;RecordBatch&lt;&#x2F;li&gt;
&lt;li&gt;DictionaryBatch&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ä»¬åªæåŠå‰ä¸¤ä¸ªã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;i.loli.net&#x2F;2021&#x2F;11&#x2F;16&#x2F;ptCPLjx7bcWOXmi.png&quot; alt=&quot;å¸ƒå±€&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ä¸€ä¸ªschema messageå’Œå¤šä¸ªrecord batch messageå°±èƒ½å®Œæ•´è¡¨ç¤ºä¸€ä¸ªrecord batchã€‚å…¶ä¸­schema messageå­˜å‚¨è¡¨ç»“æ„ï¼Œrecord batch messageå­˜å‚¨å­—æ®µmetadataå’Œå­—æ®µå€¼ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œrecord batch messageåŒ…å«å®é™…çš„æ•°æ®ç¼“å†²åŒºã€å¯¹åº”çš„ç‰©ç†å†…å­˜å¸ƒå±€ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç„¶åé—®é¢˜åˆæ¥äº†ï¼ŒArrowä¸ºä½•æ— éœ€pointer-swizzlingå³å¯å®ç°æµä¸æ•°æ®è½¬æ¢çš„å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯messageçš„metadataä¸­å­˜å‚¨äº†æ¯ä¸ªç¼“å†²åŒºçš„ä½ç½®å’Œå¤§å°ï¼Œå› æ­¤å¯ä»¥å­—èŠ‚é€šè¿‡æŒ‡é’ˆè®¡ç®—æ¥é‡å»ºArrayæ•°æ®ç»“æ„ï¼ŒåŒæ—¶è¿˜é¿å…äº†å†…å­˜æ‹·è´ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;äºæ˜¯å®šä¹‰IPCæµæ ¼å¼ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#282828;color:#fdf4c1aa;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;SCHEMA&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;DICTIONARY 0&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;...
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;DICTIONARY k - 1&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;RECORD BATCH 0&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;...
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;DICTIONARY x DELTA&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;...
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;DICTIONARY y DELTA&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;...
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;RECORD BATCH n - 1&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;EOS [optional]: 0xFFFFFFFF 0x00000000&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç”±äºè¿™éƒ¨åˆ†æ¯”è¾ƒâ€œå®šä¹‰â€ï¼Œæœ¬æ–‡ä¸å±•å¼€è®²ï¼Œæ›´è¯¦ç»†è¯·çœ‹&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;arrow.apache.org&#x2F;docs&#x2F;format&#x2F;Columnar.html#ipc-streaming-format&quot;&gt;è§„èŒƒ&lt;&#x2F;a&gt;ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;arrow-flight&quot;&gt;Arrow Flight&lt;&#x2F;h2&gt;
&lt;p&gt;è¿‘æ®µæ—¶é—´Arrowæœ€å¤§çš„å˜åŒ–å°±æ˜¯æ·»åŠ äº†Flightï¼Œä¸€ä¸ªé€šç”¨C&#x2F;Sæ¶æ„çš„é«˜æ€§èƒ½æ•°æ®ä¼ è¾“æ¡†æ¶ã€‚FlightåŸºäºgRPCå¼€å‘ï¼Œä»æœ€å¼€å§‹é‡ç‚¹å°±æ˜¯ä¼˜åŒ–Arrowæ ¼å¼æ•°æ®ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Flightçš„å…·ä½“ç»†èŠ‚è¯·çœ‹&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;arrow.apache.org&#x2F;blog&#x2F;2019&#x2F;10&#x2F;13&#x2F;introducing-arrow-flight&#x2F;&quot;&gt;å®˜æ–¹æ–‡æ¡£&lt;&#x2F;a&gt;ã€‚è¿™é‡Œåªä»‹ç»å®ƒçš„ä¼˜åŠ¿ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;æ— åºåˆ—åŒ–&#x2F;ååºåˆ—åŒ–ï¼šFlightä¼šç›´æ¥å°†å†…å­˜ä¸­çš„Arrowå‘é€ï¼Œä¸è¿›è¡Œä»»ä½•åºåˆ—åŒ–&#x2F;ååºåˆ—åŒ–æ“ä½œ&lt;&#x2F;li&gt;
&lt;li&gt;æ‰¹å¤„ç†ï¼šFlightå¯¹record batchçš„æ“ä½œæ— éœ€è®¿é—®å…·ä½“çš„åˆ—ã€è®°å½•æˆ–è€…å…ƒç´ &lt;&#x2F;li&gt;
&lt;li&gt;é«˜å¹¶å‘ï¼šFlightçš„ååé‡åªæ”¶åˆ°å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„ååé‡ä»¥åŠç½‘ç»œçš„é™åˆ¶&lt;&#x2F;li&gt;
&lt;li&gt;ç½‘ç»œåˆ©ç”¨ç‡é«˜ï¼šFlightä½¿ç”¨åŸºäºHTTP&#x2F;2çš„gRPCï¼Œä¸ä»…æ˜¯å¿«&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;www.dremio.com&#x2F;is-time-to-replace-odbc-jdbc&#x2F;&quot;&gt;å®˜æ–¹ç»™å‡ºçš„æ•°æ®&lt;&#x2F;a&gt;æ˜¯Flightçš„ä¼ è¾“å¤§çº¦æ˜¯æ ‡å‡†ODBCçš„20-50å€ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¯¹æ¯ä¸ªbatch recordå¹³å‡è¡Œæ•°256Kæ—¶ï¼Œåœ¨å•èŠ‚ç‚¹ä¼ è¾“æ—¶çš„æ€§èƒ½å¯¹æ¯”ï¼ˆå› ä¸ºflightå¤šèŠ‚ç‚¹æ—¶å¯ä»¥å¹³è¡Œä¼ è¾“æ•°æ®æµï¼‰ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;i.loli.net&#x2F;2021&#x2F;11&#x2F;16&#x2F;EOrNiXqY9Le2jTy.png&quot; alt=&quot;æ€§èƒ½å¯¹æ¯”&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shi-yong-chang-jing&quot;&gt;ä½¿ç”¨åœºæ™¯&lt;&#x2F;h3&gt;
&lt;p&gt;æœ€è¿‡ç»å…¸çš„é&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;arrow.apache.org&#x2F;blog&#x2F;2017&#x2F;07&#x2F;26&#x2F;spark-arrow&#x2F;&quot;&gt;PySpark&lt;&#x2F;a&gt;è«å±ï¼Œæ­¤å¤–è¿˜æœ‰&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;arrow.apache.org&#x2F;blog&#x2F;2019&#x2F;01&#x2F;25&#x2F;r-spark-improvements&#x2F;&quot;&gt;sparklyr&lt;&#x2F;a&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦å¤–ï¼ŒClickHouseä¹Ÿæœ‰è®¡åˆ’å®ç°Arrow Flightçš„serverç«¯ï¼Œä¸€æ—¦è½åœ°å¯ç”¨ï¼Œsparkä¸clickhouseäº¤äº’å°±å¯ä»¥æŠ›å¼ƒ3Gç½‘èˆ¬çš„JDBCäº†~&lt;&#x2F;p&gt;
&lt;h2 id=&quot;zong-jie&quot;&gt;æ€»ç»“&lt;&#x2F;h2&gt;
&lt;p&gt;æœ¬æ–‡ä»Arrowç«‹é¡¹çš„èƒŒæ™¯å…¥æ‰‹ï¼Œå†åˆ°Arrowå®ç°æ‰€éœ€çš„è®¾è®¡ï¼Œæœ€ååˆ°Arrowå…·ä½“columnaræ ¼å¼å®šä¹‰ï¼Œä»‹ç»äº†Arrowçš„å„ç§ç›¸å…³æ¦‚å¿µã€‚æœ€åè¡¥ä¸Šä¸€å¼ å›¾ä½œä¸ºArrowçš„ä¼˜ç‚¹ã€é™åˆ¶çš„æ€»ç»“ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;i.loli.net&#x2F;2021&#x2F;11&#x2F;14&#x2F;i9hQ5wd4sj6y8Tf.png&quot; alt=&quot;æ€»ç»“&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;can-kao&quot;&gt;å‚è€ƒ&lt;&#x2F;h2&gt;
&lt;ol&gt;
&lt;li&gt;Weså’ŒJacquesçš„è§†é¢‘è®¿è°ˆ: &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;www.dremio.com&#x2F;starting-apache-arrow&#x2F;&quot;&gt;Starting Apache Arrow&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;Arrowèµ·åæŠ•ç¥¨: &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;docs.google.com&#x2F;spreadsheets&#x2F;d&#x2F;1q6UqluW6SLuMKRwW2TBGBzHfYLlXYm37eKJlIxWQGQM&#x2F;edit#gid=0&quot;&gt;Vector Naming Discussion&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;æ€è·¯æ¥æº: &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;tech.ipalfish.com&#x2F;blog&#x2F;2020&#x2F;12&#x2F;08&#x2F;apache_arrow_summary&#x2F;&quot;&gt;ä¼´é±¼æŠ€æœ¯å›¢é˜Ÿ&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;apache&#x2F;arrow&#x2F;blob&#x2F;master&#x2F;docs&#x2F;source&#x2F;format&#x2F;Columnar.rst&quot;&gt;Arrow Columnar Format&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;arrow.apache.org&#x2F;faq&#x2F;&quot;&gt;Arrow FAQ&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
</description>
        </item>
        <item>
            <title>è®ºæ–‡é˜…è¯»ç¬”è®°ï¼šRDD</title>
            <pubDate>Tue, 12 Oct 2021 17:31:07 +0800</pubDate>
            <link>https://charmer.fun/posts/paper-reading-rdd/</link>
            <guid>https://charmer.fun/posts/paper-reading-rdd/</guid>
            <description>&lt;h2 id=&quot;abstract&quot;&gt;Abstract&lt;&#x2F;h2&gt;
&lt;p&gt;RDDèµ·æºäºç°æœ‰çš„å¤§æ•°æ®æ¡†æ¶å¯¹&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;è¿­ä»£ç®—æ³•: æ•°æ®å¤ç”¨&lt;&#x2F;li&gt;
&lt;li&gt;äº¤äº’å¼æ•°æ®&lt;&#x2F;li&gt;
&lt;li&gt;æŒ–æ˜: æ•°æ®å…±äº«&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;æ”¯æŒè¿‡å·®&lt;&#x2F;p&gt;
&lt;h2 id=&quot;introduction&quot;&gt;Introduction&lt;&#x2F;h2&gt;
&lt;p&gt;æ–°æå‡ºçš„Pregelã€HaLoopè™½ç„¶ä¾æ¬¡é’ˆå¯¹æ€§æå‡ºè§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯æ–¹æ¡ˆç¼ºä¹ç»Ÿä¸€çš„æŠ½è±¡æ¥å£ï¼Œæ— æ³•æ¨å¹¿ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;äºæ˜¯ï¼Œç ”ç©¶äººå‘˜æå‡ºRDDï¼Œæ”¯æŒå¤§é‡åœºæ™¯ä¸‹å†…å­˜å¤ç”¨ã€‚&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;Resilient Distributed Datasets(RDDs): RDDS are fault-tolerant, parallel data structures that enable users explicitly persist intermediate results in memory, control their partitioning to optimize data placement, and manaipulate them using a rich set of operations.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;æœ€å¤§éš¾é¢˜æ˜¯è®¾è®¡æ¥å£ï¼Œå¦‚ä½•è®¾è®¡é”™è¯¯å®¹å¿åº¦é«˜çš„æ¥å£å‘¢ï¼Ÿå‚è€ƒç°æœ‰è®¾è®¡ï¼ŒDSMã€KV-storesã€databaseså’ŒPiccoloï¼Œä»–ä»¬æä¾›ç»†ç²’åº¦å†…å­˜æ¥å£ï¼Œå¯¼è‡´æƒ³è¦æ”¯æŒé”™è¯¯æ¢å¤ï¼Œå¿…é¡»ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;è·¨è®¾å¤‡å¤‡ä»½æ•°æ®&lt;&#x2F;li&gt;
&lt;li&gt;è·¨è®¾å¤‡æ—¥å¿—æ›´æ–°&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;è¿™å¯¹äºå¤§æ•°æ®åº”ç”¨è€Œè¨€å¤ªæ˜‚è´µäº†ï¼Œäºæ˜¯ï¼ŒRDDè¢«è®¾è®¡ä¸ºç²—ç²’åº¦å†…å­˜æ¨¡å‹æ¥å£ï¼Œæä¾›transformationsæ¥å£å¯¹ä¸åŒæ•°æ®æ‰§è¡ŒæŸäº›æ“ä½œæ“ä½œã€‚æ­¤æ—¶ï¼Œå¤‡ä»½å˜å¾—ç®€å•ï¼Œåªè¦è®°å½•â€œè¡€ç»Ÿâ€(æ¯ä¸ªRDDçš„transformationsæµç¨‹)ã€‚å¦‚æœæŸä¸ªRDDçš„åˆ†åŒºä¸¢å¤±äº†ï¼Œå®Œå…¨å¯ä»¥åªæ¢å¤è¿™ä¸ªåˆ†åŒºçš„RDDæ•°æ®ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;rdd&quot;&gt;RDD&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;rddgai-shu&quot;&gt;RDDæ¦‚è¿°&lt;&#x2F;h3&gt;
&lt;p&gt;RDDæ˜¯åªè¯»çš„æ•°æ®åˆ†åŒºé›†åˆã€‚æ¯ä¸ªRDDåªæœ‰ä¸‰ä¸ªæ¥æºï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;ä»å†…å­˜å¯¹è±¡é›†åˆç”Ÿæˆ&lt;&#x2F;li&gt;
&lt;li&gt;ä»å¤–å­˜æ•°æ®ç”Ÿæˆ&lt;&#x2F;li&gt;
&lt;li&gt;ä»ç°æœ‰RDDè½¬æ¢&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;ç”¨æˆ·æ‹¿åˆ°RDDä¸ä¸€å®šçœŸå®å­˜åœ¨ï¼Œå¯èƒ½åªæ˜¯è¿™ä¸ªRDDçš„â€œè¡€ç»Ÿâ€ã€‚&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;A program cannot reference an RDD that it cannot reconstruct after a failure.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;h3 id=&quot;sparkbian-cheng-mo-xing&quot;&gt;Sparkç¼–ç¨‹æ¨¡å‹&lt;&#x2F;h3&gt;
&lt;p&gt;sparkç¨‹åºå¾€å¾€èµ·å§‹äºé€šè¿‡transformationsåˆ›å»ºRDDï¼Œç»ˆæ­¢äºé€šè¿‡actionså¤„ç†RDDè¿”å›æ•°å€¼ç»“æœæˆ–è€…å†™å…¥å­˜å‚¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;RDDä¸ä¸€å®šæ˜¯å®ä½“çš„ï¼Œåœ¨actionè¢«è¿è¡Œå‰æ‰è¢«è®¡ç®—ï¼Œå› æ­¤å¯ä»¥æ’æ’ç«™ï¼Œåƒæœæœã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;rdddui-bi-dsmde-you-dian&quot;&gt;RDDå¯¹æ¯”DSMçš„ä¼˜ç‚¹&lt;&#x2F;h3&gt;
&lt;p&gt;Distributed Shared Memory(DSM): å¦ä¸€ç§åˆ†å¸ƒå¼æ¡†æ¶ï¼Œç»†ç²’åº¦å†…å­˜å…±äº«ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;RDDçš„ä¼˜ç‚¹ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;æ›´é«˜æ•ˆçš„é”™è¯¯å®¹å¿åº¦&lt;&#x2F;li&gt;
&lt;li&gt;å¾—ç›ŠäºRDDä¸å¯å˜ï¼Œå¯ä»¥è¿è¡Œæ—¶åŒæ—¶å¤‡ä»½æ•°æ®&lt;&#x2F;li&gt;
&lt;li&gt;ä»»åŠ¡å¯ä»¥è¢«è°ƒåº¦åˆ°ç¦»æ•°æ®ç‰©ç†æ›´è¿‘çš„èŠ‚ç‚¹ä¸Š&lt;&#x2F;li&gt;
&lt;li&gt;å½“å†…å­˜ä¸å¤Ÿæ—¶RDDå¯ä»¥ä¼˜é›…ç¼©å‡RDDæ•°é‡è§„æ¨¡&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h3 id=&quot;bu-gua-he-yu-rddde-chang-jing&quot;&gt;ä¸é€‚åˆäºRDDçš„åœºæ™¯&lt;&#x2F;h3&gt;
&lt;p&gt;RDDåªé€‚åˆäº&lt;strong&gt;æ‰¹å¤„ç†&lt;&#x2F;strong&gt;åº”ç”¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;RDDä¸é€‚åˆäºå¼‚æ­¥ç»†ç²’åº¦æ›´æ–°å…±äº«çŠ¶æ€çš„åº”ç”¨ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;sparkbian-cheng-jie-kou&quot;&gt;Sparkç¼–ç¨‹æ¥å£&lt;&#x2F;h2&gt;
&lt;p&gt;å¼€å‘äººå‘˜ä¸»è¦å†™&lt;code&gt;driver program&lt;&#x2F;code&gt;ï¼Œç”¨äºè¿æ¥é›†ç¾¤ä¸­çš„workersã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;sparkzhong-rddde-cao-zuo&quot;&gt;Sparkä¸­RDDçš„æ“ä½œ&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;transformations&lt;&#x2F;code&gt;: å®šä¹‰RDDçš„æ‡’æ“ä½œ&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;actions&lt;&#x2F;code&gt;: æ‰§è¡Œè®¡ç®—ï¼Œè¿”å›ç»“æœæˆ–è€…å†™å…¥å­˜å‚¨&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;rddshi-xian&quot;&gt;RDDå®ç°&lt;&#x2F;h2&gt;
&lt;p&gt;æå‡ºäº”ä¸ªéœ€è¦å®ç°çš„æ¥å£ã€‚&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;partitions()&lt;&#x2F;li&gt;
&lt;li&gt;preferredLocations(p)&lt;&#x2F;li&gt;
&lt;li&gt;dependencies()&lt;&#x2F;li&gt;
&lt;li&gt;iterator(p,parentIters)&lt;&#x2F;li&gt;
&lt;li&gt;partitioner()&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;ä¾èµ–åˆ†ä½çª„ä¾èµ–å’Œå®½ä¾èµ–ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆè¦åˆ†çª„ä¾èµ–ï¼Ÿ&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;å¯ä»¥ç®¡é“æ‰§è¡Œ&lt;&#x2F;li&gt;
&lt;li&gt;æ¢å¤æ›´ç®€å•&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
</description>
        </item>
        <item>
            <title>è®ºæ–‡é˜…è¯»ç¬”è®°ï¼šHDFS</title>
            <pubDate>Fri, 17 Sep 2021 13:17:46 +0800</pubDate>
            <link>https://charmer.fun/posts/paper-reading-hdfs/</link>
            <guid>https://charmer.fun/posts/paper-reading-hdfs/</guid>
            <description>&lt;p&gt;&lt;mark&gt;æ³¨æ„: æœ¬æ–‡æ¶‰åŠåˆ°çš„ä¸“æœ‰åè¯å°†ç›´æ¥ä½¿ç”¨è‹±æ–‡, ä¾¿äºç†è§£è®°å¿†&lt;&#x2F;mark&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;mark&gt;æ³¨æ„: æœ¬æ–‡é¢å‘hadoop 2ç‰ˆæœ¬, å…¶å®ƒç‰ˆæœ¬å·®å¼‚å¹¶ä¸æ¶‰åŠ&lt;&#x2F;mark&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Hadoopæ˜¯ä»€ä¹ˆ? SASç»™å‡ºçš„æè¿°[6]æ˜¯:&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;Hadoop is an open-source software framework for storing data and running applications on clusters of commodity hardware. It provides massive storage for any kind of data, enormous processing power and the ability to handle virtually limitless concurrent tasks or jobs.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;ä¸éš¾çœ‹å‡º, å…¶ä¸­commodity hardware, massive storageå’Œenormous processing powerå°±æ˜¯Hadoopçš„é‡è¦ç‰¹ç‚¹. è€ŒThe Hadoop Distributed File System(HDFS)ä½œä¸ºHadoopçš„æ ¸å¿ƒå­é¡¹ç›®ä¹‹ä¸€, æ˜¯Google File System(GFS)çš„å®ç°, ä¸ºåˆ†å¸ƒå¼è®¡ç®—æä¾›æ•°æ®å­˜å‚¨å’Œç®¡ç†çš„åŠŸèƒ½.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;bei-jing&quot;&gt;èƒŒæ™¯&lt;&#x2F;h2&gt;
&lt;p&gt;è®²åˆ°HDFSå°±ä¸å¾—ä¸æåŠGFS. éšç€ä¸šåŠ¡å‘å±•, Googleå…¬å¸å¯¹æ•°æ®å­˜å‚¨å¤„ç†çš„éœ€è¦æ—¥ç›Šå¢é•¿, ä¾¿è®¾è®¡å‡ºGFS, å®ç°äº†åœ¨å»‰ä»·çš„å•†å“æœºå‹ä¸Šé«˜å®¹é”™åœ°å­˜å‚¨æ•°æ®, å¹¶æä¾›äº†é«˜è®¡ç®—æ€§èƒ½, æ»¡è¶³äº†Googleå…¬å¸çš„éœ€è¦[5]. HDFSæ­£æ˜¯åŸºäºGoogleå…¬å¸åœ¨2000å¹´å·¦å³å®Œæˆçš„GFSè€Œæ”¹è¿›å®ç°çš„[1], ä¸»è¦æ˜¯æ”¹ä¸ºé€šç”¨æ–‡ä»¶ç³»ç»Ÿ(å¯ä»¥æ”¯æŒæ›´å¤šçš„å­˜å‚¨ç³»ç»Ÿè€Œä¸åªæ˜¯Googleçš„), å¹¶ä¸ºäº†å†…å­˜ä¸€è‡´æ€§å’Œæ€§èƒ½, ä¿®æ”¹äº†å†™å…¥æ¨¡å‹å’Œå†™å…¥æµç¨‹, å…¶ä»–å‡ ä¹å’ŒGFSä¸€è‡´.&lt;&#x2F;p&gt;
&lt;p&gt;HDFSå°†metadataå’Œdataåˆ†å¼€å­˜æ”¾, åƒå…¶å®ƒçš„åŒç±»æ–‡ä»¶ç³»ç»Ÿæ¯”å¦‚PVFS[4][7], Lustre[3]å’ŒGFS, HDFSå°†metadataå­˜å‚¨äºä¸€ä¸ªå«Name Nodeçš„ä¸“ç”¨æœåŠ¡å™¨ä¸Š, å°†dataå­˜å‚¨äºå«Data Nodeçš„æœåŠ¡å™¨ä¸Š. æ‰€æœ‰çš„æœåŠ¡å™¨éƒ½é€šè¿‡ä¸€ä¸ªåŸºäºTCPçš„ä¸“ç”¨åè®®è¿›è¡Œäº’è”é€šä¿¡.&lt;&#x2F;p&gt;
&lt;p&gt;ä¸åŒäºLustreå’ŒPVFS, HDFSçš„Data Nodeå¹¶ä¸ä½¿ç”¨è¯¸å¦‚RAIDçš„æ•°æ®ä¿æŠ¤ç­–ç•¥, è€Œæ˜¯ä»¿ç…§GFS, å°†æ–‡ä»¶å†—ä½™å­˜æ”¾äºä¸åŒçš„Data Node. è¿™ç§æ–¹å¼é™¤äº†æé«˜æ•°æ®çš„å®‰å…¨æ€§, è¿˜æé«˜äº†ç³»ç»Ÿçš„å¯ç”¨å¸¦å®½, å› ä¸ºéšç€æ–‡ä»¶å†—ä½™å­˜å‚¨äºä¸åŒçš„èŠ‚ç‚¹, å¯¹äºéœ€è¦æ•°æ®è®¡ç®—çš„è½¯ä»¶è€Œè¨€, æ•°æ®æ­£å¥½åœ¨æœ¬åœ°Data Nodeçš„æ¦‚ç‡æ›´é«˜.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;mu-de&quot;&gt;ç›®çš„&lt;&#x2F;h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ç¡¬ä»¶é”™è¯¯æ—¶çš„é«˜å®¹é”™æ€§&lt;&#x2F;p&gt;
&lt;p&gt;å¯¹äºé¢å‘æˆåƒä¸Šä¸‡çš„å»‰ä»·æœºå‹çš„é›†ç¾¤è€Œè¨€, æœºå™¨çš„ç¡¬ä»¶é”™è¯¯æ˜¯éå¸¸å¸¸è§çš„. HDFSé›†ç¾¤ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½å­˜å‚¨ç€æ–‡ä»¶ç³»ç»Ÿçš„éƒ¨åˆ†æ•°æ®, å› æ­¤, ä¸ºäº†æ•°æ®çš„å®‰å…¨æ€§, HDFSéœ€è¦èƒ½æ£€æµ‹ç¡¬ä»¶é”™è¯¯, å¹¶å¿«é€Ÿåœ°, è‡ªåŠ¨åœ°ä»é”™è¯¯ä¸­æ¢å¤.&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;æµå¼æ•°æ®è¯»å†™&lt;&#x2F;p&gt;
&lt;p&gt;è®¸å¤šåº”ç”¨éœ€è¦æµå¼æ•°æ®è®¿é—®, ä½†å®ƒä»¬å¹¶ä¸æ˜¯è¿è¡Œåœ¨é€šç”¨æ–‡ä»¶ç³»ç»Ÿä¸Šçš„é€šç”¨åº”ç”¨ç¨‹åº. å› æ­¤, HDFSé¢å‘æ‰¹å¤„ç†è®¾è®¡è€Œä¸æ˜¯æ™®é€šç”¨æˆ·äº¤äº’è®¿é—®, ä¹Ÿå°±æ˜¯è¯´, é‡ç‚¹æ˜¯æ•°æ®è®¿é—®çš„é«˜ååé‡è€Œä¸æ˜¯æ•°æ®è®¿é—®ä½å»¶è¿Ÿ. ä¸ºäº†å®ç°è¿™ä¸€ç‚¹, HDFSæ”¾å®½äº†éƒ¨åˆ†POSIXçš„è¦æ±‚.&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;å­˜å‚¨å¤§æ•°æ®é›†&lt;&#x2F;p&gt;
&lt;p&gt;å­˜å‚¨åœ¨HDFSçš„æ–‡ä»¶å¯èƒ½æ˜¯ä»¥GB, TBä¸ºå•ä½çš„æ–‡ä»¶, HDFS provides high aggregate data bandwidth and can scale to hundreds of nodes in a single cluster.[2]&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;ä¿è¯å†…å­˜ä¸€è‡´æ€§&lt;&#x2F;p&gt;
&lt;p&gt;ä¸ºäº†ä¿è¯å†…å­˜ä¸€è‡´æ€§, HDFSå¯¹è¯»å†™è®¿é—®æ¨¡å‹åšäº†ç®€åŒ–, åŒºåˆ«äºGFS, HDFSä»…ä»…æ”¯æŒä¸€ä¸ªå†™å…¥è€…å’Œå¤šä¸ªè¯»å…¥è€…. å¹¶ä¸”ä¸€ä¸ªæ–‡ä»¶ä¸€æ—¦åˆ›å»º, å†™å…¥å¹¶å…³é—­, é™¤äº†appendå’Œtruncateå¤–ä¸èƒ½æ‰§è¡Œå…¶ä»–æ“ä½œ. é€šè¿‡è¿™äº›çº¦æŸç®€åŒ–äº†å†…å­˜ä¸€è‡´æ€§æ¨¡å‹, å¹¶æ”¯æŒé«˜ååé‡æ•°æ®è®¿é—®.&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;æ›´å¼ºçš„å¯ç§»æ¤æ€§&lt;&#x2F;p&gt;
&lt;p&gt;åŸºäºJavaçš„HDFS, ä¸å¿…å¤šè¯´.&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h2 id=&quot;jia-gou&quot;&gt;æ¶æ„&lt;&#x2F;h2&gt;
&lt;p&gt;è¿™é‡Œæ”¾ä¸Šä¸€ä¸ªè§†é¢‘, æ¯”è¾ƒç”ŸåŠ¨å½¢è±¡, å…ˆçœ‹ä¸€ç¯‡æœ‰ä¸ªå¤§æ¦‚çš„å°è±¡å†é˜…è¯»æ–‡ç« .&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; title=&quot;Understanding HDFS using Legos&quot; href=&quot;https:&#x2F;&#x2F;youtu.be&#x2F;4Gfl0WuONMY&quot;&gt;&lt;img src=&quot;https:&#x2F;&#x2F;res.cloudinary.com&#x2F;marcomontalbano&#x2F;image&#x2F;upload&#x2F;v1613722386&#x2F;video_to_markdown&#x2F;images&#x2F;youtube--4Gfl0WuONMY-c05b58ac6eb4c4700831b2b3070cd403.jpg&quot; alt=&quot;Understanding HDFS using Legos&quot; &#x2F;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ä¸‹å›¾æ˜¯å®˜ç½‘çš„HDFSæ¶æ„å›¾è§£.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;hadoop.apache.org&#x2F;docs&#x2F;r2.10.1&#x2F;hadoop-project-dist&#x2F;hadoop-hdfs&#x2F;images&#x2F;hdfsarchitecture.png&quot; alt=&quot;HDFS Architecture&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;name-node&quot;&gt;Name Node&lt;&#x2F;h3&gt;
&lt;p&gt;HDFSçš„namespaceæ˜¯æ–‡ä»¶å’Œç›®å½•çš„å±‚æ¬¡ç»“æ„. æ–‡ä»¶å’Œç›®å½•åœ¨Name Nodeä¸­ä»¥inodeå­˜å‚¨, è®°å½•ç€åƒæ˜¯æƒé™, ä¿®æ”¹è®¿é—®æ—¶é—´, namespaceå’Œå¤§å°ç­‰ç­‰å±æ€§. æ–‡ä»¶è¢«åˆ‡åˆ†ä¸ºå¤§çš„å—(é»˜è®¤æ˜¯128MB, å¯ä»¥æ¯ä¸ªæ–‡ä»¶å•ç‹¬æŒ‡å®š), å¹¶ä¸”æ–‡ä»¶çš„æ¯ä¸ªå—è¢«ç‹¬ç«‹å†—ä½™å¤‡ä»½åœ¨ä¸åŒçš„Data Nodeä¸Š(ä¸€èˆ¬æ˜¯3ä»½, åŒæ ·ä¹Ÿå¯ä»¥æ¯ä¸ªæ–‡ä»¶å•ç‹¬æŒ‡å®š). Name Nodeç»´æŠ¤namespaceçš„æ ‘çŠ¶ç»“æ„, å¹¶ä¿å­˜æ–‡ä»¶å—åˆ°Data Nodeçš„æ˜ å°„. &lt;&#x2F;p&gt;
&lt;p&gt;å½“è¯»å–æ–‡ä»¶æ—¶, HDFS clientå…ˆä»Name Nodeè·å–å­˜æ”¾æ–‡ä»¶æ•°æ®å—çš„Data Node, ç„¶åç›´æ¥ä»&lt;strong&gt;æœ€è¿‘&lt;&#x2F;strong&gt;çš„Data Nodeè·å–æ•°æ®. åŒæ ·çš„, å½“å†™å…¥æ•°æ®æ—¶, å®¢æˆ·ç«¯ä¼šè¦æ±‚Name NodeæŒ‡å®šä¸€ç»„Data Nodeå­˜å‚¨æ–‡ä»¶å—å’Œæ–‡ä»¶å—çš„å‰¯æœ¬, ä¹‹åä»¥ç®¡é“çš„æ–¹å¼å‘Data Nodeså†™å…¥æ•°æ®.&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨å½“å‰çš„è®¾è®¡ä¸­, æ¯ä¸ªé›†ç¾¤åªæœ‰ä¸€ä¸ªName Node, ä½†æœ‰ä»»æ„çš„Data Nodeå’ŒHDFS Client. HDFSå°†æ•´ä¸ªnamespaceå­˜å‚¨äºRAMä¸­. inodeæ•°æ®å’Œæ–‡ä»¶å—çš„åˆ—è¡¨ç»„æˆäº†ç³»ç»Ÿçš„metadata, è¢«ç§°ä¸ºimage. imageè¢«æ°¸ä¹…å­˜å‚¨åœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ, è¢«ç§°ä¸ºcheckpoint. Name NodeåŒæ ·ä¼šå­˜å‚¨imageçš„ä¿®æ”¹æ—¥å¿—, è¢«ç§°ä¸ºjournal. ä¸ºäº†æé«˜è€ä¹…æ€§, checkpointå’Œjournalå¯ä»¥å†—ä½™å¤‡ä»½åœ¨ä¸åŒçš„æœåŠ¡å™¨. å½“é‡å¯æ—¶, Name Nodeé€šè¿‡è¯»å…¥checkpointå¹¶æ‰§è¡Œjournalæ¢å¤åŸå…ˆçš„namespace. å—å‰¯æœ¬çš„ä½ç½®å¯èƒ½ä¼šæ”¹å˜, å› æ­¤checkpointä¸åŒ…æ‹¬è¿™éƒ¨åˆ†.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;data-node&quot;&gt;Data Node&lt;&#x2F;h3&gt;
&lt;p&gt;æ¯ä¸ªå—å­˜å‚¨äºData Nodeæ—¶, éƒ½ç”±ä¸¤ä¸ªæ–‡ä»¶ç»„æˆ. ç¬¬ä¸€ä¸ªåŒ…å«äº†å®é™…æ•°æ®æœ¬èº«, ç¬¬äºŒä¸ªæ˜¯å—çš„metadata, åŒ…æ‹¬æ ¡éªŒç (checksum)å’Œç‰ˆæœ¬æˆ³(generation stamp). åŒ…å«æ•°æ®çš„æ–‡ä»¶çš„å¤§å°ç­‰åŒäºå—çš„çœŸå®å¤§å°, ä¸éœ€è¦åƒä¼ ç»Ÿæ–‡ä»¶ç³»ç»Ÿé‚£æ ·éœ€è¦é¢å¤–ç©ºé—´ä»¥å¡«å……åˆ°æ ‡ç§°å—å¤§å°. å› æ­¤ä¸€ä¸ªæ–‡ä»¶å—è‹¥æ˜¯åªæœ‰ä¸€åŠçš„å¤§å°, å®ƒå°±ä»…ä»…éœ€è¦æœ¬åœ°æ–‡ä»¶ç³»ç»ŸåŠå—çš„çš„ç©ºé—´.&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨startupé˜¶æ®µ, æ¯ä¸ªData Nodeéƒ½ä¼šè¿æ¥åˆ°Name Nodeå¹¶æ‰§è¡Œæ¡æ‰‹. æ¡æ‰‹çš„ç›®çš„ä¹‹ä¸€æ˜¯éªŒè¯namespace IDå’Œè½¯ä»¶ç‰ˆæœ¬. è‹¥ä»»æ„ä¸€ä¸ªæ²¡æœ‰åŒ¹é…ä¸Š, Data Nodeå°†ä¼šè‡ªåŠ¨å…³æœº. å½“HDFSæ–‡ä»¶ç³»ç»Ÿæ ¼å¼åŒ–æ—¶ä¼šç”Ÿæˆå¯¹åº”çš„namespace ID, ä¹‹åè¢«å­˜å‚¨äºé›†ç¾¤ä¸­æ‰€æœ‰èŠ‚ç‚¹ä¸Š, æ‹¥æœ‰ä¸åŒçš„namespace IDçš„èŠ‚ç‚¹ä¸å¯èƒ½åœ¨åŒä¸€é›†ç¾¤ä¸­, ä¿è¯äº†æ–‡ä»¶ç³»ç»Ÿçš„å®Œæ•´æ€§. è½¯ä»¶ç‰ˆæœ¬çš„ä¸€è‡´æ€§ä¹Ÿæ˜¯å¿…è¦çš„, å› ä¸ºä¸åŒç‰ˆæœ¬çš„è½¯ä»¶ä¼šå¯¼è‡´æ•°æ®æŸåæˆ–ä¸¢å¤±, å½“æ›´æ–°æ—¶, å¤§é›†ç¾¤ä¸­æ€»ä¼šæœ‰èŠ‚ç‚¹æœªèƒ½æ­£ç¡®å…³æœº, æ›´æ–°, å¯¼è‡´è½¯ä»¶ç‰ˆæœ¬ä¸å¯¹, è¿™æ—¶å€™å°±éœ€è¦å…³é—­è¿™äº›èŠ‚ç‚¹, ç­‰åç»­æ‰‹åŠ¨æ“ä½œ.&lt;&#x2F;p&gt;
&lt;p&gt;åˆšåˆšåˆå§‹åŒ–çš„Data Node, å¯ä»¥åŠ å…¥ä»»ä¸€é›†ç¾¤å¹¶æ¥å—é›†ç¾¤çš„namespace ID. åœ¨æ¡æ‰‹å, Data Nodeæ³¨å†Œåˆ°Name Nodeä¸Š. Data Nodeä¹Ÿå­˜å‚¨ç€ä»–è‡ªå·±ç‹¬ä¸€æ— äºŒçš„storage ID, ä½œä¸ºData Nodeçš„å†…éƒ¨æ ‡è¯†, ä¿è¯äº†å³ä½¿é‡å¯å, è¢«åˆ†é…äº†ä¸åŒçš„IPåœ°å€å’Œç«¯å£, ä»èƒ½è¢«æ­£ç¡®è¯†åˆ«. è€Œstorage IDæ—¶Data Nodeæ³¨å†Œåˆ°Name Nodeæ—¶è¢«åˆ†é…çš„, ä»¥å&lt;strong&gt;ä¸ä¼šå†æ”¹å˜&lt;&#x2F;strong&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;Data Nodeå®šæœŸå‘é€block reportç»™Name Node, åŒ…å«block id, ç‰ˆæœ¬æˆ³å’Œå…¨éƒ¨å—çš„é•¿åº¦ä¿¡æ¯. ä¸€ç»æ³¨å†Œå°±ä¼šå‘é€ç¬¬ä¸€ä¸ªblock report. ä¹‹åæ¯å°æ—¶éƒ½ä¼šå‘é€ä¸€æ¬¡.&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨è¿è½¬è¿‡ç¨‹ä¸­, Data Nodeä¼šå‘é€heartbeatç»™Name Nodeä»¥å‘ŠçŸ¥æ“ä½œæ­£åœ¨è¿›è¡Œå¹¶ä¸”æ•°æ®æ­£å¸¸. é»˜è®¤çš„æ—¶é—´é—´éš”æ˜¯3ç§’. è‹¥æ˜¯10åˆ†é’Ÿå†…, Name Nodeæœªèƒ½æ”¶åˆ°Data Nodeçš„heartbeatä¿¡å·, å°†ä¼šè®¤ä¸ºData Nodeç¦»çº¿å¹¶ä¸”ä¸Šé¢çš„æ•°æ®éƒ½ä¸¢å¤±, ä¾¿ä¼šé‡æ–°è§„åˆ’å—å¤‡ä»½.&lt;&#x2F;p&gt;
&lt;p&gt;äº‹å®ä¸Š, heartbeatä¿¡å·è¿˜åŒ…å«äº†ä¸€äº›é¢å¤–çš„ä¿¡æ¯, åŒ…æ‹¬ä¸­å­˜å‚¨å®¹é‡, å·²ä½¿ç”¨å­˜å‚¨çš„ç™¾åˆ†æ¯”, æ­£åœ¨å¤„ç†çš„æ•°æ®æ•°é‡. è¿™äº›ç»Ÿè®¡ä¿¡æ¯è¢«Name Nodeç”¨æ¥å¹³è¡¡è´Ÿè½½å’Œå®‰æ’ç©ºé—´.&lt;&#x2F;p&gt;
&lt;p&gt;Name Nodeå¹¶ä¸ä¼šç›´æ¥è°ƒåº¦Data Node, è€Œæ˜¯é€šè¿‡å›å¤heartbeatçš„æ–¹å¼å‘é€å‘½ä»¤. å‘½ä»¤åŒ…æ‹¬:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;å¾€å…¶ä»–Data Nodeå¤‡ä»½å—&lt;&#x2F;li&gt;
&lt;li&gt;åˆ é™¤æœ¬åœ°å—å¤‡ä»½&lt;&#x2F;li&gt;
&lt;li&gt;é‡æ–°æ³¨å†Œæˆ–å…³é—­node&lt;&#x2F;li&gt;
&lt;li&gt;ç«‹åˆ»å‘é€block report&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h3 id=&quot;hdfs-client&quot;&gt;HDFS Client&lt;&#x2F;h3&gt;
&lt;p&gt;ç”¨æˆ·åº”ç”¨ç¨‹åºæƒ³è¦è®¿é—®HDFS, å¿…é¡»ä½¿ç”¨HDFS Client. å’Œä¼ ç»Ÿæ–‡ä»¶ç³»ç»Ÿç±»ä¼¼, HDFSæ”¯æŒè¯», å†™å’Œåˆ é™¤æ–‡ä»¶, ä»¥åŠåˆ›å»ºå’Œåˆ é™¤ç›®å½•. ç”¨æˆ·é€šè¿‡è·¯å¾„æŒ‡å®šnamespaceå†…çš„æ–‡ä»¶å’Œç›®å½•. ç”¨æˆ·å®Œå…¨ä¸ç”¨çŸ¥é“ç»†èŠ‚.&lt;&#x2F;p&gt;
&lt;p&gt;å½“åº”ç”¨è¯»å–æ–‡ä»¶æ—¶, HDFS Clientä¼šå‘Name Nodeè¯·æ±‚å­˜å‚¨ç€æ–‡ä»¶å—çš„Data Nodeåˆ—è¡¨. ç„¶åç›´æ¥è®¿é—®Data Nodeå¹¶è·å–æ•°æ®. å½“HDFS Clientå†™å…¥æ•°æ®æ—¶, é¦–å…ˆè¯·æ±‚Name Nodeé€‰æ‹©ç¬¬ä¸€ä¸ªå—çš„å¤‡ä»½Data Nodeåˆ—è¡¨, Clientä¼šç»„ç»‡ä¸€ä¸ªnode-to-nodeçš„ç®¡é“å¹¶å†™å…¥æ•°æ®. å½“ç¬¬ä¸€ä¸ªå—å®Œæˆå, Clientä¼šå†æ¬¡è¯·æ±‚Data Nodeåˆ—è¡¨, å†ä»¥åŒæ ·çš„æ–¹å¼å†™åé¢çš„å—.&lt;&#x2F;p&gt;
&lt;p&gt;ä¸åŒäºä¼ ç»Ÿæ–‡ä»¶ç³»ç»Ÿ, HDFSæä¾›è·å–æ–‡ä»¶å—ä½ç½®çš„API, å…è®¸åº”ç”¨ç¨‹åºç›´æ¥å°†ä»»åŠ¡è¿è¡Œäºç›®æ ‡Data Nodeä¸Š, å‡å°‘äº†ä¸å¿…è¦çš„æµé‡æ¶ˆè€—. åŒæ—¶, å…è®¸åº”ç”¨ç¨‹åºè®¾ç½®æ–‡ä»¶çš„å†—ä½™å› å­, é»˜è®¤æƒ…å†µä¸‹æ˜¯3. å¯¹äºé‡è¦çš„æ–‡ä»¶å’Œç»å¸¸è®¿é—®çš„æ–‡ä»¶, å¯ä»¥è®¾ç½®ä¸ºæ›´é«˜çš„å€¼, ä»¥ä¿è¯æ•°æ®å®‰å…¨å’Œæé«˜è¯»å¸¦å®½.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;imagehe-journal&quot;&gt;Imageå’ŒJournal&lt;&#x2F;h3&gt;
&lt;p&gt;æ­£å¦‚å‰æ–‡æ‰€è¯´, imageå°±æ˜¯å½“å‰metadataçš„ç‰ˆæœ¬, è€Œcheckpointæ˜¯å†™å…¥åˆ°å¤–å­˜çš„image, æ°¸è¿œè½åäºå½“å‰RAMä¸­çš„image, è€Œjournalåˆ™è®°å½•ç€checkpointåˆ°å½“å‰imageä¹‹é—´çš„æ“ä½œ. checkpointä¸ä¼šè¢«ä¿®æ”¹, åªä¼šåœ¨é‡å¯æ—¶è¢«å®Œæ•´æ›¿æ¢. åœ¨startupé˜¶æ®µ, Name Nodeä»checkpointä¸­è¯»å–image, å¹¶å¯¹å…¶æ‰§è¡Œjournalçš„æ“ä½œ, ä»¥æ¢å¤ä¸Šæ¬¡çš„image. å½“å®Œæˆåä¸”å¼€å§‹è¿ä½œä¹‹å‰, æ–°çš„checkpointå’Œç©ºç™½çš„journalæ–‡ä»¶ä¼šè¢«å›å†™.&lt;&#x2F;p&gt;
&lt;p&gt;è‹¥æ˜¯checkpointæˆ–journalæ–‡ä»¶ä¸¢å¤±æˆ–è€…æŸå, namespaceçš„ä¿¡æ¯å°±ä¸¢å¤±äº†. ä¸ºäº†ä¿æŠ¤è¿™é‡è¦çš„ä¿¡æ¯, HDFSå¯ä»¥å­˜å‚¨checkpointå’Œjournalæ–‡ä»¶åœ¨ä¸åŒçš„å­˜å‚¨ç›®å½•.&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ€ä½³å®è·µ: å°†è¿™ä¸¤ä¸ªæ–‡ä»¶å­˜å‚¨åœ¨ä¸åŒçš„å·, ç”šè‡³è¿œç¨‹NFSæœåŠ¡å™¨.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;Name Nodeæ˜¯å¤šçº¿ç¨‹æœåŠ¡å™¨, å¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªClientçš„è¯·æ±‚. äºæ˜¯, å°†äº‹åŠ¡å†™å…¥å¤–å­˜æˆä¸ºäº†æ•´ä¸ªç³»ç»Ÿçš„ç“¶é¢ˆ, å› ä¸ºä¸€ä¸ªçº¿ç¨‹åœ¨åŒæ­¥åœ°å†™å…¥æ—¶, å…¶ä»–çº¿ç¨‹åªèƒ½ç­‰å¾…. ä¸ºäº†è¿›ä¸€æ­¥ä¼˜åŒ–, Name Nodeé€šè¿‡æ‰¹å¤„ç†çš„æ–¹å¼å†™å…¥äº‹åŠ¡. å½“ä¸€ä¸ªçº¿ç¨‹è¯·æ±‚flush-and-syncæ“ä½œæ—¶, æ‰€æœ‰åœ¨ç­‰å¾…å¤„ç†çš„æäº¤ä¼šè¢«åŒæ—¶å†™å…¥. å‰©ä¸‹çš„çº¿ç¨‹åªéœ€è¦å»æ£€æŸ¥è‡ªå·±çš„äº‹åŠ¡æ˜¯å¦è¢«ä¿å­˜, è€Œä¸æ˜¯éƒ½å»flush-and-sync.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;checkpoint-node&quot;&gt;Checkpoint Node&lt;&#x2F;h3&gt;
&lt;p&gt;Name Nodeåœ¨HDFSä¸­, é™¤äº†ä¸ºClientæä¾›æœåŠ¡å¤–, è¿˜å¯ä»¥ä½œä¸ºCheckpoint Nodeå’ŒBackup Node.&lt;&#x2F;p&gt;
&lt;p&gt;Checkpoint Nodeå®šæ—¶çš„åˆå¹¶ç°æœ‰çš„checkpointå’Œjournal, åˆ›å»ºæ–°çš„checkpointå’Œç©ºçš„journal. Checkpoint Nodeé€šå¸¸æ˜¯ç”±è¿è¡Œåœ¨å…¶ä»–ä¸»æœº, å› ä¸ºå®ƒå¿…é¡»è¦æœ‰å’ŒName Nodeç›¸åŒçš„å†…å­˜éœ€æ±‚. å®ƒä¼šä»Name Nodeä¸‹è½½æœ€æ–°çš„checkpointå’Œjournal, åˆå¹¶, ç„¶åå›å†™.&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ç§æ–¹å¼å‡å°‘äº†startupé˜¶æ®µçš„è€—æ—¶, å› ä¸ºå‡å°‘äº†journalæ–‡ä»¶çš„å¤§å°.&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ€ä½³å®è·µ: æ¯æ—¥æ›´æ–°ä¸€ä¸ªcheckpoint.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;h3 id=&quot;backup-node&quot;&gt;Backup Node&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™æ˜¯HDFSçš„æ–°ç‰¹æ€§. è¿™éƒ¨åˆ†ä¸è¯¦ç»†è¯´, ç±»ä¼¼åŒæœºçƒ­å¤‡ä»½ä¸€æ ·, åªæ˜¯åªè¯»çš„å¤‡ä»½.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;geng-xin-yu-wen-jian-xi-tong-kuai-zhao&quot;&gt;æ›´æ–°ä¸æ–‡ä»¶ç³»ç»Ÿå¿«ç…§&lt;&#x2F;h3&gt;
&lt;p&gt;åœ¨è½¯ä»¶æ›´æ–°è¿‡ç¨‹ä¸­, æœ€å®¹æ˜“å‡ºç°æ•°æ®æŸå. ä¸ºäº†é™ä½è¿™ç§é£é™©, HDFSæ‹¥æœ‰å¿«ç…§åŠŸèƒ½. å¿«ç…§å…è®¸ç®¡ç†å‘˜æ°¸ä¹…åœ°ä¿å­˜å½“å‰æ–‡ä»¶ç³»ç»Ÿçš„çŠ¶æ€, å› æ­¤å½“æ›´æ–°å¼‚å¸¸å¯¼è‡´æ•°æ®ä¸¢å¤±æŸåæ—¶å¯ä»¥æ¢å¤åˆ°å¿«ç…§çš„çŠ¶æ€.&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨ç³»ç»Ÿå¼€å¯æ—¶, å¯ä»¥é€‰æ‹©å¼€å¯å¿«ç…§åŠŸèƒ½(åªèƒ½åŒæ—¶ä¿å­˜ä¸€ä¸ªå¿«ç…§). å½“è¦æ±‚å¿«ç…§æ—¶, Name Nodeé¦–å…ˆè¯»å–checkpointå’Œjournalæ–‡ä»¶, å¹¶åœ¨å†…å­˜ä¸­åˆå¹¶, ç„¶åå°†æ–°checkpointå’Œç©ºçš„journalå†™å…¥æ–°çš„è·¯å¾„, æ—§çš„checkpointå’Œjournalä»ç„¶æœªæ”¹å˜.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;shu-ju-cao-zuo&quot;&gt;æ•°æ®æ“ä½œ&lt;&#x2F;h2&gt;
&lt;p&gt;æ•°æ®æ“ä½œä¸»è¦æ˜¯æ–‡ä»¶çš„è¯»å–å†™å…¥ä»¥åŠå‰¯æœ¬çš„æ”¾ç½®ç­–ç•¥, ç®—æ˜¯HDFSçš„æ ¸å¿ƒéƒ¨åˆ†.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;wen-jian-xie-ru&quot;&gt;æ–‡ä»¶å†™å…¥&lt;&#x2F;h3&gt;
&lt;p&gt;å‰æ–‡å·²ç»æåˆ°, å½“ä¸€ä¸ªåº”ç”¨åˆ›å»ºæ–‡ä»¶å†™å…¥æ•°æ®å¹¶å…³é—­å, å†…å®¹ä¸å†å¯ä»¥æ”¹å˜, é™¤äº†appendå’Œtruncate.&lt;&#x2F;p&gt;
&lt;p&gt;HDFSå®ç°single-writer-multiple-readeræ¨¡å¼. ä¹Ÿå°±æ˜¯è¯´, å½“ä¸€ä¸ªHDFS Clientæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶å¹¶å†™å…¥æ•°æ®æ—¶, ä¼šæš‚æ—¶ç‹¬å è¿™ä¸ªæ–‡ä»¶çš„, æˆ‘ä»¬ç§°ä¹‹ä¸ºlease, å…¶å®ƒçš„clientéƒ½ä¸å†å¯ä»¥å†™å…¥æ•°æ®. å†™å…¥æ•°æ®çš„clienté€šè¿‡heartbeatä¿¡å·æ›´æ–°è‡ªå·±å¯¹æ–‡ä»¶çš„lease. å½“æ–‡ä»¶å…³é—­, leaseè¢«å›æ”¶. leaseçš„æœŸé™å—åˆ°è½¯é™åˆ¶(soft limit)å’Œç¡¬é™åˆ¶(hard limit). åœ¨è½¯é™åˆ¶è¿‡æœŸä¹‹å‰, å†™å…¥æ•°æ®çš„clientç‹¬å è¿™ä¸ªæ–‡ä»¶. å½“è½¯é™åˆ¶è¿‡æœŸ, è€Œclientæœªèƒ½å…³é—­æ–‡ä»¶æˆ–è€…æ›´æ–°è‡ªå·±çš„lease, å¦ä¸€ä¸ªclientå°±å¯ä»¥æŠ¢å lease. å½“ç¡¬é™åˆ¶è¿‡æœŸ(ä¸€å°æ—¶), è€Œclientæœªèƒ½æ›´æ–°lease, HDFSä¼šå½“ä½œclientå·²ç»é€€å‡º, å¹¶è‡ªåŠ¨å…³é—­æ–‡ä»¶, å›æ”¶lease. æ³¨æ„, leaseæ˜¯å†™å…¥ç‹¬å , å…¶å®ƒclientä»ç„¶å¯ä»¥è¯»å–æ–‡ä»¶.&lt;&#x2F;p&gt;
&lt;p&gt;HDFSçš„æ–‡ä»¶æ˜¯ç”±blockç»„æˆçš„. å½“éœ€è¦æ–°çš„blockæ—¶, Name Nodeå°†åˆ†é…ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„block IDå¹¶å†³å®šä¸€ç»„Data Nodeå»å­˜æ”¾blockä»¥åŠå®ƒçš„å‰¯æœ¬. Data Nodeä¹‹é—´ä¼šç»„ç»‡ç®¡é“, å®ƒä»¬çš„é¡ºåºä¼šè‡ªåŠ¨æœ€ä¼˜åŒ–, é™ä½å¸¦å®½æŸè€—. æ•°æ®è¢«ä»¥æ•°æ®åŒ…çš„æ–¹å¼åºåˆ—åŒ–ä¼ è¾“. å½“ç¬¬ä¸€ä¸ªæ•°æ®åŒ…è¢«å¡«æ»¡(ä¸€èˆ¬æ˜¯64KB), æ•°æ®åŒ…ä¼šè¢«æ¨é€åˆ°ç®¡é“. ä¸‹ä¸€ä¸ªæ•°æ®åŒ…å¯ä»¥åœ¨æ”¶åˆ°ACK(ç”±ç®¡é“æœ€åä¸€ä¸ªData Nodeå›å¤)ä¹‹å‰æ¨å‡º(å°±æ˜¯TCP). å·²å‘é€æœªæ”¶åˆ°ACKçš„åŒ…çš„æ•°é‡è¢«clientçš„æ»‘åŠ¨çª—å£é™åˆ¶(è¿™é‡Œæ˜¯TCPçš„æ»‘åŠ¨çª—å£).&lt;&#x2F;p&gt;
&lt;p&gt;æ•°æ®å†™å…¥HDFSæ–‡ä»¶å, åœ¨æ–‡ä»¶è¢«å…³é—­å‰, HDFSå¹¶ä¸ä¿è¯æ–‡ä»¶ç«‹é©¬å¯è§. è‹¥æ˜¯åº”ç”¨ç¨‹åºéœ€è¦è¾¹å†™è¾¹å¯è¯», å¯ä»¥é€šè¿‡&lt;code&gt;hflush&lt;&#x2F;code&gt;æ“ä½œ: å½“å‰æ•°æ®åŒ…è¢«ç«‹é©¬å‘é€åˆ°ç®¡é“, å¹¶åŒæ­¥ç­‰å¾…ç®¡é“ä¸­çš„ACKå›å¤å†ç»§ç»­å†™å…¥.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;i.loli.net&#x2F;2021&#x2F;09&#x2F;17&#x2F;gHwyJF6TKZ8ReNs.png&quot; alt=&quot;HDFS example&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ä¸Šå›¾æ˜¯HDFSå†™å…¥çš„ä¾‹å­.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;wen-jian-du-qu&quot;&gt;æ–‡ä»¶è¯»å–&lt;&#x2F;h3&gt;
&lt;p&gt;åœ¨ä¸€ä¸ªç”±æˆåƒä¸Šä¸‡nodeç»„æˆçš„é›†ç¾¤ä¸­, é”™è¯¯(é€šå¸¸æ˜¯å­˜å‚¨é”™è¯¯)ç»å¸¸å‘ç”Ÿ. å­˜å‚¨äºData Nodeä¸Šçš„å—å¯èƒ½ç”±äºå†…å­˜é”™è¯¯, ç¡¬ç›˜é”™è¯¯æˆ–è€…ç½‘ç»œé”™è¯¯å¯¼è‡´æŸå. ä¸ºäº†é¿å…è¿™äº›, HDFSç”Ÿæˆå¹¶å­˜å‚¨æ¯ä¸ªæ•°æ®blockçš„checksum. checksumè¢«clientåœ¨è¯»å–æ•°æ®æ—¶æ ¡éªŒ. å½“clientåˆ›å»ºä¸€ä¸ªHDFSæ–‡ä»¶æ—¶, åŒæ—¶ä¼šè®¡ç®—æ¯ä¸ªå—çš„checksumå¹¶å’Œæ•°æ®ä¸€åŒå‘é€åˆ°ç®¡é“. å½“HDFSè¯»å–æ–‡ä»¶æ—¶, æ•°æ®blockæ–‡ä»¶å’Œchecksumä¼šè¢«åŒæ—¶å‘é€ç»™client, clientå°†ä¼šè®¡ç®—æ ¡éªŒ. è‹¥å‡ºé”™, clientä¼šé€šçŸ¥Name Nodeæ•°æ®ç®—å, ç„¶åä»å¦ä¸€ä¸ªData Nodeè·å–è¯¥block.&lt;&#x2F;p&gt;
&lt;p&gt;å½“clientæ‰“å¼€è¯»å–ä¸€ä¸ªæ–‡ä»¶, clientå°†è·å–å—çš„å­˜å‚¨åˆ—è¡¨, å¹¶é€‰æ‹©æœ€è¿‘çš„Data Nodeè¯»å–æ•°æ®. å½“è¯»å–å¤±è´¥, å°±ä¼šå°è¯•ä¸‹ä¸€ä¸ª. å¯èƒ½ä¼šæœ‰ç–‘é—®, ä»€ä¹ˆæ—¶å€™è¯»å–ä¼šå¤±è´¥å‘¢? æœ‰ä¸‰ä¸ªåŸå› :&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;ç›®æ ‡Data NodeæŒ‚äº†.&lt;&#x2F;li&gt;
&lt;li&gt;ç›®æ ‡Data Nodeå¹¶æ²¡æœ‰ç›®æ ‡blockäº†&lt;&#x2F;li&gt;
&lt;li&gt;ç›®æ ‡blockæ ¡éªŒä¸é€šè¿‡&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h3 id=&quot;fu-ben-guan-li&quot;&gt;å‰¯æœ¬ç®¡ç†&lt;&#x2F;h3&gt;
&lt;p&gt;Name Nodeè¿˜éœ€è¦ä¿è¯æ¯ä¸€æ—¶åˆ»æ¯ä¸ªå—éƒ½æœ‰è¶³å¤Ÿæ•°é‡çš„å‰¯æœ¬. æ¯æ¬¡æ”¶åˆ°block report, Name Nodeéƒ½ä¼šæ£€æµ‹æ˜¯å¦æœ‰å—çš„å‰¯æœ¬æ•°é‡å¤§äºå°‘äºé¢„è®¾å€¼. å½“å‰¯æœ¬æ•°é‡å¤§äºé¢„è®¾å€¼, Name Nodeä¼šé€‰æ‹©åˆ é™¤å‰¯æœ¬, ä¾æ®å°½é‡ä¸å‡å°‘æ‹¥æœ‰å‰¯æœ¬çš„rack(è¿™é‡Œçš„rack, æˆ‘ç†è§£ä¸ºç‰©ç†ä¸Šæ”¾ç½®åœ¨åŒä¸€åœ°ç‚¹, ç½‘ç»œä¸Šå±äºåŒä¸€ç½‘ç»œçš„ç¾¤ç»„)æ•°é‡. å½“å‰¯æœ¬æ•°äº†å°äºé¢„è®¾å€¼, Name Nodeä¼šå°†å®ƒæ”¾åˆ°å¤åˆ¶ä¼˜å…ˆé˜Ÿåˆ—(replication priority queue). ä¸€ä¸ªåå°è¿›ç¨‹ä¼šä¸æ–­æ‰«æè¯¥ä¼˜å…ˆé˜Ÿåˆ—çš„é˜Ÿå¤´å¹¶å†³å®šå“ªä¸ªData Nodeæ”¾ç½®å‰¯æœ¬.&lt;&#x2F;p&gt;
&lt;p&gt;è¿™éƒ¨åˆ†ç»†èŠ‚éå¸¸å¤š, å†™ä¸‹ä¼šå¯¼è‡´ç¯‡å¹…è¿‡å¤§, è¯·è¯»è€…è‡ªè¡Œæ·±å…¥.&lt;&#x2F;p&gt;
&lt;p&gt;å¯ä»¥å‚çœ‹æœ¬æ–‡çš„åŸºç¡€è®ºæ–‡: Konstantin Shvachko, Hairong Kuang, Sanjay Radia, Robert Chansler. &amp;quot;The Hadoop Distributed File System&amp;quot;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;zong-jie&quot;&gt;æ€»ç»“&lt;&#x2F;h2&gt;
&lt;p&gt;ç»¼ä¸Š, HDFSæ˜¯åŸºäºGFSçš„å¼€æºåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ, å…·æœ‰é«˜å®¹é”™æ€§, å¯ä»¥éƒ¨ç½²åœ¨å»‰ä»·ä¸å¯é çš„æœºå™¨ä¸Š. é€‚åˆæ‰¹å¤„ç†, å¤§é‡æ•°æ®é›†å­˜å‚¨å¤„ç†ä¸æµå¼æ–‡ä»¶è®¿é—®.&lt;&#x2F;p&gt;
&lt;p&gt;å½“ç„¶HDFSä¹Ÿæœ‰ç€è‡ªå·±çš„å±€é™, ä¸–ç•Œä¸Šæ²¡æœ‰åå…¨åç¾çš„äº‹æƒ…, å°±å¥½åƒä¸ºäº†ç®€åŒ–å†…å­˜ä¸€è‡´æ€§æ¨¡å‹HDFSä¸å¾—ä¸ä½¿ç”¨one-writerçš„æ¨¡å¼, åˆå¥½åƒä¸ºäº†æé«˜ååé‡ä¸å¾—ä¸æ”¾æ¾POSIXæ ‡å‡†.&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸æ”¯æŒä½å»¶è¿Ÿè®¿é—®&lt;&#x2F;li&gt;
&lt;li&gt;ä¸é€‚åˆå°æ–‡ä»¶å­˜å‚¨&lt;&#x2F;li&gt;
&lt;li&gt;ä¸æ”¯æŒå¹¶å‘å†™å…¥&lt;&#x2F;li&gt;
&lt;li&gt;ä¸æ”¯æŒä¿®æ”¹&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h2 id=&quot;can-kao&quot;&gt;å‚è€ƒ&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;[1]:Google File System (GFS) and Hadoop Distributed File System (HDFS). http:&#x2F;&#x2F;stg-tud.github.io&#x2F;ctbd&#x2F;2017&#x2F;CTBD_06_gfs-hdfs.pdf . p5&lt;&#x2F;li&gt;
&lt;li&gt;[2]:HDFS Architecture. https:&#x2F;&#x2F;hadoop.apache.org&#x2F;docs&#x2F;r2.10.1&#x2F;hadoop-project-dist&#x2F;hadoop-hdfs&#x2F;HdfsDesign.html&lt;&#x2F;li&gt;
&lt;li&gt;[3]:Lustre File System. http:&#x2F;&#x2F;www.lustre.org&lt;&#x2F;li&gt;
&lt;li&gt;[4]:P. H. Carns, W. B. Ligon III, R. B. Ross, and R. Thakur. â€œPVFS: A parallel file system for Linux clusters,â€ in Proc. of 4th Annual Linux Showcase and Conference, 2000, pp. 317â€“327.&lt;&#x2F;li&gt;
&lt;li&gt;[5]:S. Ghemawat, H. Gobioff, S. Leung. â€œThe Google file system,â€ In Proc. of ACM Symposium on Operating Systems Principles, Lake George, NY, Oct 2003, pp 29â€“43.&lt;&#x2F;li&gt;
&lt;li&gt;[6]:What is Hadoop? - SAS. https:&#x2F;&#x2F;www.sas.com&#x2F;zh_cn&#x2F;insights&#x2F;big-data&#x2F;hadoop.html&lt;&#x2F;li&gt;
&lt;li&gt;[7]:W. Tantisiriroj, S. Patil, G. Gibson. â€œData-intensive file systems for Internet services: A rose by any other name ...â€ Technical Report CMUPDL-08-114, Parallel Data Laboratory, Carnegie Mellon University, Pittsburgh, PA, October 2008.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
        </item>
        <item>
            <title>ç¿»è¯‘ï¼šRDDç¼–ç¨‹æŒ‡å¯¼</title>
            <pubDate>Sun, 04 Jul 2021 12:42:17 +0800</pubDate>
            <link>https://charmer.fun/posts/translation-rdd-programming-guide/</link>
            <guid>https://charmer.fun/posts/translation-rdd-programming-guide/</guid>
            <description>&lt;h2 id=&quot;zong-lan&quot;&gt;æ€»è§ˆ&lt;&#x2F;h2&gt;
&lt;p&gt;æ¯ä¸ªsparkåº”ç”¨åŒ…å«ä¸€ä¸ªé©±åŠ¨ç¨‹åºï¼Œä¸¤ä¸ªèŒè´£:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;è¿è¡Œç”¨æˆ·çš„mainå‡½æ•°&lt;&#x2F;li&gt;
&lt;li&gt;åœ¨é›†ç¾¤ä¸Šæ‰§è¡Œä¸€äº›å¹¶è¡Œæ“ä½œ&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;div class=&quot;mermaid is-flex is-justify-content-center is-align-items-center&quot;&gt;graph TD;
  subgraph spark application;
  core[driver program] -.èŒè´£1.-&amp;gt; act1(run user&amp;#x27;s main function);
  core[driver program] -.èŒè´£2.-&amp;gt; act2(execute various parallel operations);
  end&lt;&#x2F;div&gt;
&lt;p&gt;åŒæ ·ï¼Œsparkæä¾›äº†ä¸¤å±‚æŠ½è±¡:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;resilient distributed dataset(RDD): ä¸€ç»„å…ƒç´ çš„é›†åˆï¼Œåˆ†æ®µåœ°å­˜å‚¨åœ¨é›†ç¾¤ä¸åŒèŠ‚ç‚¹ä¸Šï¼Œå¹¶ä¸”æ”¯æŒå¹¶è¡Œæ“ä½œã€‚
&lt;ol&gt;
&lt;li&gt;å¯ä»¥æ˜¯åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä¸€ä¸ªæ–‡ä»¶&lt;&#x2F;li&gt;
&lt;li&gt;å¯ä»¥æ˜¯driver programä¸­çš„ä¸€ä¸ªscalaé›†åˆ&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;shared variables: å¯ä»¥åœ¨å¹¶è¡Œæ“ä½œä¸­ä½¿ç”¨ã€‚
&lt;ol&gt;
&lt;li&gt;broadcastç±»å‹å˜é‡: ç”¨äºåœ¨ä¸åŒèŠ‚ç‚¹åœ°å†…å­˜ä¸­å­˜å‚¨ä¸€ä¸ªå€¼&lt;&#x2F;li&gt;
&lt;li&gt;accumulatorsç±»å‹å˜é‡: åªæ”¯æŒ&amp;quot;add&amp;quot;æ“ä½œçš„å˜é‡&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h2 id=&quot;chu-shi-hua-spark&quot;&gt;åˆå§‹åŒ–spark&lt;&#x2F;h2&gt;
&lt;ol&gt;
&lt;li&gt;åˆå§‹åŒ–&lt;code&gt;SparkConf&lt;&#x2F;code&gt;ï¼ŒåŒ…å«ç›®æ ‡åº”ç”¨çš„ä¿¡æ¯&lt;&#x2F;li&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;SparkConf&lt;&#x2F;code&gt;åˆå§‹åŒ–&lt;code&gt;SparkContext&lt;&#x2F;code&gt;ä»¥è¿æ¥cluster&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h2 id=&quot;resilient-distributed-datasets-rdds&quot;&gt;Resilient Distributed Datasets (RDDs)&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;parallelized-collections&quot;&gt;Parallelized Collections&lt;&#x2F;h3&gt;
&lt;p&gt;è°ƒç”¨&lt;code&gt;SparkContext&lt;&#x2F;code&gt;çš„&lt;code&gt;parallelize&lt;&#x2F;code&gt;æ–¹æ³•ï¼Œä¼ å…¥ä¸€ä¸ªæ™®é€šé›†åˆä»¥ç”Ÿäº§ä¸€ä¸ªå¹¶è¡Œé›†åˆï¼Œä¹‹åä¾¿å¯ä»¥å¹¶è¡Œæ“ä½œã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œè¿˜å¯ä»¥æ§åˆ¶å¹¶è¡Œé›†åˆçš„åˆ†åŒºæ•°é‡ï¼Œsparkä¼šä¸ºå¹¶è¡Œé›†åˆçš„æ¯ä¸€ä¸ªåˆ†åŒºè¿è¡Œä¸€ä¸ªä»»åŠ¡ã€‚ä¸€èˆ¬sparkä¼šè‡ªåŠ¨è®¾ç½®åˆé€‚çš„åˆ†åŒºï¼Œå½“ç„¶ä¹Ÿå¯ä»¥&lt;code&gt;parallelize&lt;&#x2F;code&gt;æ–¹æ³•æ§åˆ¶ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;external-datasets&quot;&gt;External Datasets&lt;&#x2F;h3&gt;
&lt;p&gt;sparkå¯ä»¥ä»hadoopæ”¯æŒçš„ä»»ä½•æ•°æ®æºåˆ›å»ºRDDï¼Œå¹¶ä¸”æ”¯æŒhadoopæ”¯æŒçš„æ‰€æœ‰&lt;code&gt;inputFormat&lt;&#x2F;code&gt;ï¼ŒåŒ…æ‹¬text filesã€SequenceFilesã€‚&lt;&#x2F;p&gt;
&lt;p&gt;sparkè¯»å–æ–‡ä»¶(&lt;code&gt;textFile&lt;&#x2F;code&gt;æ–¹æ³•)çš„ä¸€äº›æç¤º:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸Šçš„æ–‡ä»¶ï¼Œï¼Œæ¯”å¦‚ä¿è¯æ¯ä¸ªnodeç›¸åŒè·¯å¾„ä¸Šä¹Ÿæœ‰è¿™ä¸ªæ–‡ä»¶ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;sparkæ‰€æœ‰çš„æ–‡ä»¶è¯»å–çš„æ–¹æ³•ï¼Œæ”¯æŒç›®å½•ã€å‹ç¼©æ–‡ä»¶ä»¥åŠé€šé…ç¬¦ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°ç”¨äºæ§åˆ¶åˆ†å—æ•°é‡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œsparkä¼šæ ¹æ®æ–‡ä»¶blockå¤§å°åˆ›å»ºåˆ†å—(hdfsä¸‹é»˜è®¤æ˜¯128M)ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;é™¤äº†&lt;code&gt;textFile&lt;&#x2F;code&gt;å¤–ï¼Œsparkè¿˜æä¾›äº†å…¶å®ƒæ ¼å¼çš„æ•°æ®è¯»å–æ–¹æ³•:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;SparkContext.wholeTextFiles&lt;&#x2F;code&gt;å¯ä»¥è¯»å–åŒ…å«å¤§é‡å°æ–‡ä»¶çš„ç›®å½•ï¼Œå¹¶ä»¥æ–‡ä»¶å:æ–‡ä»¶å†…å®¹å¯¹çš„æ–¹å¼è¿”å›ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å¯¹äº&lt;code&gt;SequenceFile&lt;&#x2F;code&gt;ï¼Œä½¿ç”¨&lt;code&gt;SparkContext.sequenceFile[K, V]&lt;&#x2F;code&gt;æ–¹æ³•è¯»å–ï¼ŒKã€Væ˜¯æ–‡ä»¶ä¸­keyå’Œvalueçš„ç±»å‹ï¼Œå¹¶ä¸”åº”è¯¥æ˜¯hadoopçš„&lt;code&gt;Writable&lt;&#x2F;code&gt;æ¥å£çš„å®ç°è€…ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;å¯¹äºhadoopçš„&lt;code&gt;inputFormat&lt;&#x2F;code&gt;ï¼Œå¯ä»¥ä½¿ç”¨&lt;code&gt;SparkContext.hadoopRDD&lt;&#x2F;code&gt;æ–¹æ³•ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;saveAsObjectFile&lt;&#x2F;code&gt;å’Œ&lt;code&gt;objectFile&lt;&#x2F;code&gt;æ–¹æ³•ç”¨äºä¿å­˜RDDã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h3 id=&quot;rddde-cao-zuo&quot;&gt;RDDçš„æ“ä½œ&lt;&#x2F;h3&gt;
&lt;p&gt;RDDæ”¯æŒä¸¤ç§ç±»å‹çš„æ“ä½œ:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;è½¬æ¢(transformations): ä»ç°æœ‰æ•°æ®é›†ä¸­åˆ›å»ºæ–°çš„æ•°æ®é›†&lt;&#x2F;li&gt;
&lt;li&gt;è®¡ç®—(actions): åœ¨æŸä¸ªæ•°æ®é›†ä¸Šè¿è¡Œå¹¶è·å–ç»“æœ&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;ä¸¾ä¾‹ï¼Œmapæ“ä½œå°±æ˜¯è½¬æ¢ï¼Œä¼ å…¥æŸä¸ªæ•°æ®é›†çš„æ¯ä¸ªå…ƒç´ ï¼Œè¿”å›ä»£è¡¨ç€æ–°æ•°æ®é›†çš„RDDã€‚reduceå°±æ˜¯è®¡ç®—ï¼ŒèšåˆRDDä¸­æ‰€æœ‰å…ƒç´ ï¼Œè¿”å›æœ€ç»ˆç»“æœåˆ°driver programã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;sparkä¸­æ‰€æœ‰çš„è½¬æ¢æ“ä½œéƒ½æ˜¯lazyçš„&lt;&#x2F;strong&gt;ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ä¼šåœ¨è°ƒç”¨æ—¶ç«‹é©¬è®¡ç®—ï¼Œè€Œæ˜¯åœ¨è®¡ç®—æ“ä½œè¢«æ‰§è¡Œæ—¶æ‰å»è®¡ç®—ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯æ¬¡è¿è¡Œè®¡ç®—ï¼Œæ‰€æœ‰è½¬æ¢è¿‡çš„RDDéƒ½ä¼šè¢«é‡å¤è®¡ç®—ã€‚ä½†æ˜¯å¯ä»¥é…ç½®sparkç¼“å­˜ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;ji-chu&quot;&gt;åŸºç¡€&lt;&#x2F;h4&gt;
&lt;p&gt;ä¸¾ä¾‹è¯´æ˜(ç½‘ç«™ä¸Šä¾‹å­):&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;java&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-java &quot;&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span style=&quot;color:#8ec07c;&quot;&gt;JavaRDD&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8ec07c;&quot;&gt;String&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt; lines &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; sc.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;textFile(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;&amp;quot;data.txt&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8ec07c;&quot;&gt;JavaRDD&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8ec07c;&quot;&gt;Integer&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt; lineLengths &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; lines.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;map(s &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt; s.length())&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; totalLength &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; lineLengths.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;reduce((a, b) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt; a &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt; b)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç¬¬ä¸€è¡Œå®šä¹‰äº†ä»æ–‡ä»¶ä¸­è·å–çš„RDDã€‚æ³¨æ„ï¼Œå¹¶æœªå®é™…è¯»å–ï¼Œè€Œåªæ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç¬¬äºŒè¡Œå¯¹è¿™ä¸ªæ–‡ä»¶è¿›è¡Œmapè½¬æ¢æ“ä½œã€‚æ³¨æ„ï¼Œå› ä¸ºæ‡’åŠ è½½ï¼Œå¹¶æœªå®é™…å¤„ç†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ€åä¸€è¡Œæ‰§è¡Œreduceè®¡ç®—æ“ä½œã€‚æ­¤æ—¶sparkå°†è®¡ç®—ä»»åŠ¡åˆ†è§£ä¸ºä¸€ä¸ªä¸ªtaskï¼Œè¿è¡Œåœ¨é›†ç¾¤ä¸åŒçš„èŠ‚ç‚¹ä¸Šã€‚æ¯ä¸ªèŠ‚ç‚¹åœ¨å…¶partä¸Šè¿è¡Œmapã€reduceæ“ä½œï¼Œå¹¶è¿”å›ç»“æœç»™driver programã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é€šè¿‡åœ¨reduceå‰è°ƒç”¨&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;java&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-java &quot;&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span&gt;lineLengths.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;persist(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8ec07c;&quot;&gt;StorageLevel&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;.MEMORY_ONLY())&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¯ä»¥å°†&lt;code&gt;lineLengths&lt;&#x2F;code&gt;RDDç¼“å­˜èµ·æ¥ï¼Œä¹‹åé‡å¤è°ƒç”¨reduceæ—¶ä¸å¿…é‡å¤mapã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;han-shu-chuan-di&quot;&gt;å‡½æ•°ä¼ é€’&lt;&#x2F;h4&gt;
&lt;p&gt;sparkçš„apiä¸¥é‡ä¾èµ–äº&lt;strong&gt;ä¼ é€’å‡½æ•°&lt;&#x2F;strong&gt;çš„æ–¹å¼æ‰§è¡Œä»»åŠ¡ã€‚å…·ä½“è¯·çœ‹å®˜æ–¹ç½‘ç«™ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;li-jie-bi-bao&quot;&gt;ç†è§£é—­åŒ…&lt;&#x2F;h4&gt;
&lt;p&gt;sparkæœ€éš¾ç†è§£çš„æ˜¯åœ¨ç¾¤é›†ä¸­æ‰§è¡Œä»£ç æ—¶&lt;em&gt;å˜é‡çš„èŒƒå›´&lt;&#x2F;em&gt;ã€&lt;em&gt;ç”Ÿå‘½å‘¨æœŸ&lt;&#x2F;em&gt;å’Œ&lt;em&gt;æ–¹æ³•&lt;&#x2F;em&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ€å®¹æ˜“çŠ¯çš„é”™å°±æ˜¯åœ¨å˜é‡çš„ä½œç”¨åŸŸå¤–è°ƒç”¨RDDçš„operationsã€‚&lt;&#x2F;p&gt;
&lt;h5 id=&quot;li-zi&quot;&gt;ä¾‹å­&lt;&#x2F;h5&gt;
&lt;pre data-lang=&quot;java&quot; style=&quot;background-color:#282828;color:#fdf4c1aa;&quot; class=&quot;language-java &quot;&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt; counter &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d3869b;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8ec07c;&quot;&gt;JavaRDD&lt;&#x2F;span&gt;&lt;span&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#8ec07c;&quot;&gt;Integer&lt;&#x2F;span&gt;&lt;span&gt;&amp;gt; rdd &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; sc.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;parallelize(data)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#928374;&quot;&gt;&#x2F;&#x2F; Wrong: Don&amp;#39;t do this!!
&lt;&#x2F;span&gt;&lt;span&gt;rdd.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;foreach(x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fa5c4b;&quot;&gt;-&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt; counter &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;+=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt; x)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt;println(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b8bb26;&quot;&gt;&amp;quot;Counter value: &amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#fe8019;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#fdf4c1;&quot;&gt; counter)&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™æ®µä»£ç çš„ç»“æœå–å†³äºæ˜¯å¦è¿è¡Œåœ¨åŒä¸€ä¸ªJVMä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ˜¯æœ¬åœ°è¿è¡Œ (--master = local[n]) è¿˜æ˜¯é›†ç¾¤è¿è¡Œï¼ˆspark-submitï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿è¡Œjobsæ—¶ï¼Œsparkä¼šå°†RDDçš„operationsåˆ†è§£ä¸ºtasksï¼Œäº¤ç”±ä¸€ä¸ªä¸ªexecutoræ‰§è¡Œã€‚è€Œåœ¨æ‰§è¡Œå‰ï¼Œsparkä¼šæ„å»ºtaskçš„é—­åŒ…ã€‚é—­åŒ…æ˜¯å¯¹RDDæ‰§è¡Œè®¡ç®—æ—¶å¿…é¡»è¦ç”¨åˆ°çš„å˜é‡(ä¾‹å­ä¸­å°±æ˜¯counter)å’Œæ–¹æ³•(ä¾‹å­ä¸­å°±æ˜¯foreach())ï¼Œä¼šè¢«åºåˆ—åŒ–å¹¶å‘é€ç»™å„ä¸ªexecutorã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨é›†ç¾¤æ¨¡å¼ï¼Œé—­åŒ…ä½¿ç”¨åˆ°çš„å˜é‡ä¼šè¢«æ‹·è´è¿›é—­åŒ…ï¼Œç„¶åå‘é€ç»™executoræ‰§è¡Œï¼Œexecutoåç»­ä¼šå¯¹é—­åŒ…å†…çš„counterè¿›è¡Œå¤„ç†ï¼Œè€Œä¸æ˜¯driver programä¸­çš„counterã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¿®æ”¹å¹¶ä¸æˆåŠŸï¼Œæœ€ç»ˆç»“æœè¿˜æ˜¯0ã€‚è€Œlocalæ¨¡å¼åˆ™ç›¸åï¼Œtaskè¿è¡Œåœ¨ç›¸åŒJVMï¼Œcounterçš„å¼•ç”¨å°±æ˜¯åŸå˜é‡ï¼Œå› æ­¤å¯ä»¥å¾—åˆ°æ­£ç¡®ç»“æœã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼Œä¸ºäº†å¾—åˆ°æ­£ç¡®ç»“æœï¼Œsparkå®šä¹‰äº†accumulatorç±»å‹å˜é‡ï¼Œæä¾›äº†è·¨èŠ‚ç‚¹ç´¯åŠ å€¼çš„æœºåˆ¶ã€‚&lt;&#x2F;p&gt;
&lt;h5 id=&quot;shu-chu-rddyuan-su&quot;&gt;è¾“å‡ºRDDå…ƒç´ &lt;&#x2F;h5&gt;
&lt;p&gt;RDDçš„å¦ä¸€ç§å¸¸è§é”™è¯¯ç”¨æ³•æ˜¯é€šè¿‡forEach(println)å’Œmap(println)è¾“å‡ºå…ƒç´ ã€‚åœ¨å•ä¾‹æ¨¡å¼ä¸‹æ­£å¸¸è¿ä½œï¼Œä½†æ˜¯åœ¨é›†ç¾¤æ¨¡å¼ä¸‹ï¼Œæ‰“å°çš„å€¼ä¼šè¾“å‡ºåˆ°executorçš„æ ‡å‡†è¾“å‡ºï¼Œè€Œä¸æ˜¯driver programçš„ï¼Œå› æ­¤ä¹Ÿå°±çœ‹ä¸åˆ°å…ƒç´ å†…å®¹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸ºäº†æ­£ç¡®è·å–å…ƒç´ å†…å®¹ï¼Œéœ€è¦å…ˆè°ƒç”¨&lt;code&gt;collect()&lt;&#x2F;code&gt;å‡½æ•°ä»¥å°†å…ƒç´ æ”¶é›†åˆ°driver programï¼Œç„¶åå†è°ƒç”¨è¾“å‡ºå‡½æ•°ã€‚ä½†æ˜¯è¿™å®¹æ˜“é€ æˆOOMã€‚å¦ä¸€ç§æ–¹æ¡ˆæ˜¯&lt;code&gt;take()&lt;&#x2F;code&gt;å‡½æ•°ï¼Œåªæ”¶é›†ä¸€å®šæ•°é‡çš„å…ƒç´ ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;key-valuedui&quot;&gt;Key-Valueå¯¹&lt;&#x2F;h4&gt;
&lt;p&gt;è™½ç„¶å¤§å¤šæ•°Sparkæ“ä½œéƒ½é€‚ç”¨äºåŒ…å«ä»»ä½•ç±»å‹å¯¹è±¡çš„RDDsï¼Œä½†æœ‰å‡ ä¸ªç‰¹æ®Šçš„æ“ä½œåªé€‚ç”¨äºé”®å€¼å¯¹çš„RDDsã€‚æœ€å¸¸è§çš„æ˜¯åˆ†å¸ƒå¼ &amp;quot;æ´—ç‰Œ(shuffle)&amp;quot;æ“ä½œï¼Œå¦‚æŒ‰é”®åˆ†ç»„æˆ–èšåˆå…ƒç´ ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;transformations&quot;&gt;Transformations&lt;&#x2F;h4&gt;
&lt;p&gt;è¯·åˆ°ç½‘é¡µæŸ¥çœ‹: &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;http:&#x2F;&#x2F;spark.apache.org&#x2F;docs&#x2F;latest&#x2F;rdd-programming-guide.html#transformations&quot;&gt;transformations&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h4 id=&quot;actions&quot;&gt;Actions&lt;&#x2F;h4&gt;
&lt;p&gt;è¯·åˆ°ç½‘é¡µæŸ¥çœ‹: &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;http:&#x2F;&#x2F;spark.apache.org&#x2F;docs&#x2F;latest&#x2F;rdd-programming-guide.html#actions&quot;&gt;actions&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h4 id=&quot;xi-pai-cao-zuo&quot;&gt;æ´—ç‰Œæ“ä½œ&lt;&#x2F;h4&gt;
&lt;p&gt;Sparkä¸­çš„æŸäº›æ“ä½œä¼šè§¦å‘ä¸€ä¸ªè¢«ç§°ä¸ºæ´—ç‰Œçš„äº‹ä»¶ã€‚æ´—ç‰Œæ˜¯Sparké‡æ–°åˆ†é…æ•°æ®çš„æœºåˆ¶ï¼Œä½¿å…¶åœ¨ä¸åŒçš„åˆ†åŒºä¸­ä»¥ä¸åŒçš„æ–¹å¼åˆ†ç»„ã€‚è¿™é€šå¸¸æ¶‰åŠè·¨æ‰§è¡Œå™¨å’Œæœºå™¨çš„æ•°æ®å¤åˆ¶ï¼Œä½¿æ´—ç‰Œæˆä¸ºä¸€ä¸ªå¤æ‚è€Œæ˜‚è´µçš„æ“ä½œã€‚&lt;&#x2F;p&gt;
&lt;h5 id=&quot;bei-jing&quot;&gt;èƒŒæ™¯&lt;&#x2F;h5&gt;
&lt;p&gt;ä¸ºäº†è§£é‡Šæ´—ç‰Œæ“ä½œï¼Œç”¨&lt;code&gt;reduceByKey&lt;&#x2F;code&gt;æ¥æ¼”ç¤ºï¼Œè¿™ä¸ªæ–¹æ³•ç”Ÿæˆæ–°çš„RDDï¼Œå°†æ‰€æœ‰äºkeyå…³è”çš„valueåˆå¹¶ä¸ºä¸€ä¸ªtoupleã€‚æœ€éº»çƒ¦çš„åœ°æ–¹æ˜¯ï¼Œä¸æ˜¯æ‰€æœ‰å’Œkeyå…³è”çš„valueåœ¨åŒä¸€ä¸ªåˆ†åŒºã€ç”šè‡³èŠ‚ç‚¹ã€‚ä¸åŒexecutoréœ€è¦åˆä½œä»¥å¾—åˆ°ç»“æœã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨sparkä¸­ï¼Œä¸ä¼šä¸ºäº†æŸä¸ªoperationå»äº¤æ¢åˆ†åŒºã€‚åœ¨è®¡ç®—è¿‡ç¨‹ä¸­ï¼Œä¸€ä¸ªtaskå°±åªæ“ä½œä¸€ä¸ªåˆ†åŒºï¼›å› æ­¤ï¼Œä¸ºäº†è§„åˆ’&lt;code&gt;reduceByKey&lt;&#x2F;code&gt;è¿™ä¸ªreduceä»»åŠ¡ï¼Œsparkéœ€è¦ä¸€ä¸ª&lt;strong&gt;all-to-all&lt;&#x2F;strong&gt;æ“ä½œ: ä»æ‰€æœ‰åˆ†åŒºè¯»å–æ‰€æœ‰keyå¯¹åº”çš„æ‰€æœ‰çš„çš„valueï¼Œç„¶åè·¨é›†ç¾¤èšé›†æ‰€æœ‰valueä»¥è®¡ç®—æ¯ä¸ªkeyå¯¹åº”çš„ç»“æœé›†ã€‚è¿™å°±æ˜¯&amp;quot;æ´—ç‰Œ&amp;quot;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ´—ç‰Œåæ’åºçœ‹ç½‘ç«™&lt;&#x2F;p&gt;
&lt;h5 id=&quot;xing-neng-sun-shi&quot;&gt;æ€§èƒ½æŸå¤±&lt;&#x2F;h5&gt;
&lt;p&gt;æ´—ç‰Œæ“ä½œéå¸¸æ¶ˆè€—èµ„æºï¼Œéœ€è¦ç£ç›˜I&#x2F;Oã€åºåˆ—åŒ–å’Œç½‘ç»œI&#x2F;Oã€‚ä¸ºäº†èšé›†æ´—ç‰Œéœ€è¦çš„æ•°æ®ï¼Œsparkä¼šå¯åŠ¨ä¸€ç³»åˆ—taskï¼Œ&amp;quot;mapä»»åŠ¡&amp;quot;ç”¨äºç»„ç»‡æ•°æ®ï¼Œ&amp;quot;reduceä»»åŠ¡&amp;quot;ç”¨äºèšåˆæ•°æ®ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨sparkå†…éƒ¨ï¼Œæ´—ç‰Œæ“ä½œæ‰§è¡Œæ—¶ï¼Œæ¯ä¸ª&amp;quot;mapä»»åŠ¡&amp;quot;ä¼šå°†ç»“æœä¿å­˜åœ¨å†…å­˜ä¸­(ç›´åˆ°æº¢å‡ºï¼Œæº¢å‡ºåˆ™åˆ†å—å†™å…¥å¤–å­˜)ï¼Œç„¶åæ ¹æ®åˆ†åŒºé¡ºåºæ’åºåå†™å…¥å•ä¸€çš„æ–‡ä»¶å†…; &amp;quot;reduceä»»åŠ¡&amp;quot;ä¼šè¯»å–è¿™ä¸ªæ–‡ä»¶ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ´—ç‰Œè¿˜ä¼šäº§ç”Ÿå¤§é‡ä¸´æ—¶æ–‡ä»¶ï¼Œç›´åˆ°RDDç”Ÿå‘½å‘¨æœŸç»“æŸå¹¶ä¸”ç›¸å…³èµ„æºè¢«åƒåœ¾å›æ”¶ã€‚æ³¨æ„ï¼Œåƒåœ¾å›æ”¶ä¼šåœ¨ä»»åŠ¡åœæ­¢ä¹‹åå¾ˆä¹…å¾ˆä¹…æ‰è¿›è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œé•¿æœŸçš„çš„spark jobä¼šå¯¼è‡´å¤§é‡å­˜å‚¨æ¶ˆè€—ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;chi-jiu-cun-chu&quot;&gt;æŒä¹…å­˜å‚¨&lt;&#x2F;h3&gt;
&lt;p&gt;RDDå¯ä»¥è¢«æŒä¹…åŒ–å­˜å‚¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šå°†å®ƒè®¡ç®—çš„åˆ†åŒºå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå¹¶åœ¨è¯¥æ•°æ®é›†ï¼ˆæˆ–ç”±å…¶è¡ç”Ÿçš„æ•°æ®é›†ï¼‰ä¸Šçš„å…¶ä»–æ“ä½œä¸­é‡å¤ä½¿ç”¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä½¿ç”¨æ–¹æ³•&lt;code&gt;persist()&lt;&#x2F;code&gt;æˆ–è€…&lt;code&gt;cache()&lt;&#x2F;code&gt;ä½¿RDDæŒä¹…åŒ–ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼ŒæŒä¹…åŒ–å­˜å‚¨çº§åˆ«æ˜¯å¯ä»¥é€‰æ‹©çš„ï¼Œé»˜è®¤æ˜¯å†…å­˜ã€‚å…·ä½“è¯·çœ‹&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;spark.apache.org&#x2F;docs&#x2F;latest&#x2F;rdd-programming-guide.html#rdd-persistence&quot;&gt;ç½‘ç«™&lt;&#x2F;a&gt;ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;xuan-ze-chi-jiu-hua-cun-chu-ji-bie&quot;&gt;é€‰æ‹©æŒä¹…åŒ–å­˜å‚¨çº§åˆ«&lt;&#x2F;h4&gt;
&lt;p&gt;æŒä¹…åŒ–å­˜å‚¨å…³ç³»åˆ°å†…å­˜å’ŒCPUçš„æ•ˆç‡ï¼Œå®˜æ–¹ç»™å‡ºé€‰æ‹©æ–¹æ³•ï¼Œå…·ä½“è¯·çœ‹&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;spark.apache.org&#x2F;docs&#x2F;latest&#x2F;rdd-programming-guide.html#which-storage-level-to-choose&quot;&gt;ç½‘ç«™&lt;&#x2F;a&gt;ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;yi-chu-shu-ju&quot;&gt;ç§»é™¤æ•°æ®&lt;&#x2F;h4&gt;
&lt;p&gt;Sparkç›‘æ§ç¼“å­˜çš„ä½¿ç”¨ï¼Œå¹¶ä¾ç…§LRUç®—æ³•ä¸¢å¼ƒæ—§ç¼“å­˜ã€‚å¯ä»¥é€šè¿‡&lt;code&gt;unpersist()&lt;&#x2F;code&gt;æ–¹æ³•å–æ¶ˆç¼“å­˜ï¼Œé»˜è®¤å¼‚æ­¥å®Œæˆï¼›å¯ä»¥é€šè¿‡ä¼ å…¥&lt;code&gt;blocking=true&lt;&#x2F;code&gt;æ§åˆ¶ä¸ºåŒæ­¥æ–¹å¼ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;gong-xiang-bian-liang&quot;&gt;å…±äº«å˜é‡&lt;&#x2F;h2&gt;
&lt;p&gt;Sparkæ“ä½œçš„è¿è¡Œç±»ä¼¼ä¸å‡½æ•°è°ƒç”¨ï¼Œå€¼ä¼ é€’ã€‚ä¸ºäº†å®ç°åœ¨èŠ‚ç‚¹è¿è¡Œçš„æ“ä½œæ”¹å˜driver programçš„æ•°å€¼ï¼Œsparkæä¾›äº†ä¸¤ç§å˜é‡ç±»å‹ï¼šbroadcast variableã€accumulatorã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;broadcast-variables&quot;&gt;Broadcast Variables&lt;&#x2F;h3&gt;
&lt;p&gt;å¹¿æ’­å˜é‡å¯ä»¥è®©æ¯ä¸ªèŠ‚ç‚¹ä¿å­˜ä¸€ä¸ªåªè¯»å˜é‡åœ¨æœ¬åœ°ï¼Œè€Œä¸æ˜¯æ¯æ¬¡è¿è¡Œtaskä¼ å…¥ã€‚ç”¨äºé«˜æ•ˆåœ°ç»™æ¯ä¸ªèŠ‚ç‚¹ä¸€äº›è¾ƒå¤§æ•°æ®é›†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;accumulators&quot;&gt;Accumulators&lt;&#x2F;h3&gt;
&lt;p&gt;ç´¯åŠ å™¨æ˜¯åªé€šè¿‡å…³è”å’Œæ¢å…ƒæ“ä½œ &amp;quot;åªå¢&amp;quot;çš„å˜é‡ï¼Œå› æ­¤å¯ä»¥æœ‰æ•ˆåœ°æ”¯æŒå¹¶è¡Œï¼Œå¯ä»¥ç”¨æ¥å®ç°è®¡æ•°å™¨ï¼ˆå¦‚MapReduceï¼‰æˆ–æ€»å’Œã€‚SparkåŸç”Ÿæ”¯æŒæ•°å­—ç±»å‹çš„ç´¯åŠ å™¨ï¼Œç¨‹åºå‘˜å¯ä»¥å¢åŠ å¯¹æ–°ç±»å‹çš„æ”¯æŒã€‚&lt;&#x2F;p&gt;
</description>
        </item>
        <item>
            <title>Comment Policy</title>
            <pubDate>Fri, 01 Jan 2021 00:00:00 +0800</pubDate>
            <link>https://charmer.fun/comment-policy/</link>
            <guid>https://charmer.fun/comment-policy/</guid>
            <description>&lt;p&gt;Welcome to my blog! To ensure that you have a good time over here at Aurora, please make sure to stick to the following guidelines:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Be polite â€“ don&#x27;t be rude to anyone and respect others. If something you would say would get you bottled on the head offline, please don&#x27;t say it here. Remember there is a person behind the screen and that your words affect people.&lt;&#x2F;li&gt;
&lt;li&gt;Don&#x27;t troll. We appreciate and welcome criticism towards writers here, but comments that add no value to the discussion or that are merely insulting would be deleted without exception.&lt;&#x2F;li&gt;
&lt;li&gt;Spam? Goodbye. We understand that you may make thousands of dollars working from home, however, we are not interested. Please refrain from posting or we&#x27;ll give you a hand and show both you and your post the door.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;To put it in a simple sentence, our guidelines boil down to &amp;quot;Don&#x27;t be a dick&amp;quot;. If you don&#x27;t follow any of these guidelines, not only will our moderators remove the comment but we may also ban you from participating in the discussions.&lt;&#x2F;p&gt;
&lt;p&gt;If you find any comments which violate our guidelines, please make sure to &lt;code&gt;flag&lt;&#x2F;code&gt; or &lt;code&gt;mark as spam&lt;&#x2F;code&gt; â€“ our moderators highly appreciate your support!&lt;&#x2F;p&gt;
&lt;p&gt;Happy commenting!&lt;&#x2F;p&gt;
</description>
        </item>
    </channel>
</rss>
